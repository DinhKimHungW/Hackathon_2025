const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CwiuDQRy.js","assets/vendor-react-BH1SDbH3.js","assets/vendor-BM98ZQOm.js","assets/rolldown-runtime-CjiBMUN4.js","assets/vendor-charts-C1uJw4t_.js","assets/vendor-mui-B1q6pdKu.js","assets/vendor-utils-BBFcn-gs.js","assets/Unauthorized-CRaWquqm.js","assets/Dashboard-DJcHbpBh.js","assets/colors-l-OMOX4h.js","assets/ShipVisitList-DszVssAF.js","assets/useShipVisitSocket-DLfco5aI.js","assets/ShipVisitDetail-Dz-uIH0M.js","assets/ShipVisitForm-BULIyhOS.js","assets/SchedulesPage-gg5aN4zM.js","assets/TasksPage-e5eTSxrh.js","assets/AssetsPage-0xontDt3.js","assets/ConflictsPage-BZkepMOf.js","assets/useNotification-CDDMP1HV.js","assets/EventLogsPage-D7kClX-T.js","assets/SimulationPage-D7_oWQED.js","assets/PortMapPage-DcccD3hL.js","assets/ChatbotPage-DGfHuDXo.js","assets/Settings-C5LmljCr.js","assets/Profile-CqhgkYPz.js"])))=>i.map(i=>d[i]);
import{r as _a}from"./rolldown-runtime-CjiBMUN4.js";import{Cn as bt}from"./vendor-BM98ZQOm.js";import{S as _t,_ as wt,b as Lt,v as l,x as Rt,y as L}from"./vendor-charts-C1uJw4t_.js";import{a as S,c as Qa,d as Nt,i as Ja,n as Dt,o as Ot,r as ce,s as wa,t as Pt,u as C}from"./vendor-react-BH1SDbH3.js";import{l as Vt,r as Mt,s as Ft}from"./vendor-utils-BBFcn-gs.js";import{$r as p,Ci as _,Cr as H,Ct as zt,Dn as Ut,Dr as Na,Dt as Bt,Er as Da,Et as $t,Gr as J,L as Wt,Lr as Ht,Mn as Gt,On as Yt,Or as Kt,Ot as qt,Qr as Qt,Rr as Q,Si as w,Sr as G,Un as Jt,Ut as Xt,V as Xa,Vt as Oa,Wr as Za,Zn as Zt,Zr as Pa,_i as fe,ai as k,bi as Y,bn as er,br as me,ci as et,cn as ar,cr as pe,ct as tr,dr as ye,ei as rr,fi as E,gi as sr,hi as he,hn as at,hr as f,ii as nr,kt as ir,mi as or,ni as lr,oi as tt,pi as dr,pr as cr,ri as rt,rt as st,si as O,sn as nt,st as ur,ti as La,tn as it,tt as pr,un as hr,vi as gr,vn as ot,wn as fr,wr as Va,wt as mr,xi as K,xr as lt,yt as dt}from"./vendor-mui-B1q6pdKu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var yr=_a(Nt()),c=_a(bt()),xr="https://api.portlink.com/api/v1",Ma=3,Sr=1e3,vr=["GET","HEAD","OPTIONS","PUT","DELETE"],Cr=[408,429,500,502,503,504],ue=Vt.create({baseURL:xr,timeout:15e3,headers:{"Content-Type":"application/json"}});ue.interceptors.request.use(a=>{const e=localStorage.getItem("access_token");return e&&a.headers?a.headers.Authorization=`Bearer ${e}`:console.warn("âš ï¸ No access_token found in localStorage"),a},a=>(console.error("âŒ Request Error:",a),Promise.reject(a)));ue.interceptors.response.use(a=>a,async a=>{const e=a.config;if(e._retryCount||(e._retryCount=0),e&&!e._retry&&e._retryCount<Ma&&vr.includes(e.method?.toUpperCase()||"")&&(a.code==="ECONNABORTED"||a.code==="ERR_NETWORK"||a.response?.status&&Cr.includes(a.response.status))){e._retryCount++;const t=Sr*Math.pow(2,e._retryCount-1);return console.warn(`â³ Retrying request (${e._retryCount}/${Ma}) after ${t}ms...`),await new Promise(r=>setTimeout(r,t)),ue(e)}return a.response?.status===401&&!e._retry?(e._retry=!0,console.warn("âš ï¸ 401 Unauthorized - Token expired, redirecting to login..."),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login"),Promise.reject(a)):(a.response?.status===403&&console.error("ðŸš« Access Forbidden:",a.response.data),a.response?.status===404&&console.error("ðŸ” Resource Not Found:",a.config?.url),a.response?.status===500&&console.error("ðŸ’¥ Server Error:",a.response.data),a.code==="ERR_NETWORK"&&console.error("ðŸŒ Network Error: Please check your internet connection"),a.code==="ECONNABORTED"&&console.error("â±ï¸ Request Timeout: Server took too long to respond"),Promise.reject(a))});var o=ue;const kr={login:async a=>{const e=await o.post("/auth/login",a);return e.data.data||e.data},register:async a=>{const e=await o.post("/auth/register",a);return e.data.data||e.data},logout:async()=>{await o.post("/auth/logout"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user")},changePassword:async a=>{await o.post("/auth/change-password",a)},refreshToken:async a=>(await o.post("/auth/refresh",{refresh_token:a})).data,verifyToken:async a=>{try{return await o.post("/auth/verify",{token:a}),!0}catch{return!1}},getProfile:async()=>(await o.get("/users/profile")).data};var W=kr;const jr={getJSON:(a,e=null)=>{try{const t=localStorage.getItem(a);return!t||t==="undefined"||t==="null"?e:JSON.parse(t)}catch(t){return console.error(`Error parsing localStorage key "${a}":`,t),e}},setJSON:(a,e)=>{try{localStorage.setItem(a,JSON.stringify(e))}catch(t){console.error(`Error setting localStorage key "${a}":`,t)}},getString:a=>{try{const e=localStorage.getItem(a);return e==="undefined"||e==="null"?null:e}catch(e){return console.error(`Error getting localStorage key "${a}":`,e),null}},setString:(a,e)=>{try{localStorage.setItem(a,e)}catch(t){console.error(`Error setting localStorage key "${a}":`,t)}},remove:a=>{try{localStorage.removeItem(a)}catch(e){console.error(`Error removing localStorage key "${a}":`,e)}},clear:()=>{try{localStorage.clear()}catch(a){console.error("Error clearing localStorage:",a)}},has:a=>{try{const e=localStorage.getItem(a);return e!==null&&e!=="undefined"&&e!=="null"}catch{return!1}}};var x=jr,re={user:x.getJSON("user"),access_token:x.getString("access_token"),refresh_token:x.getString("refresh_token"),isAuthenticated:x.has("access_token"),loading:!1,error:null};console.log("ðŸ” Auth InitialState:",{hasUser:!!re.user,hasToken:!!re.access_token,isAuthenticated:re.isAuthenticated});const xe=l("auth/login",async(a,{rejectWithValue:e})=>{try{const t=await W.login(a);return x.setString("access_token",t.accessToken),x.setString("refresh_token",t.refreshToken),x.setJSON("user",t.user),t}catch(t){return e(t.response?.data?.message||"ÄÄƒng nháº­p tháº¥t báº¡i")}}),Se=l("auth/register",async(a,{rejectWithValue:e})=>{try{const t=await W.register(a);return x.setString("access_token",t.accessToken),x.setString("refresh_token",t.refreshToken),x.setJSON("user",t.user),t}catch(t){return e(t.response?.data?.message||"ÄÄƒng kÃ½ tháº¥t báº¡i")}}),se=l("auth/logout",async(a,{rejectWithValue:e})=>{try{return await W.logout(),x.remove("access_token"),x.remove("refresh_token"),x.remove("user"),null}catch(t){return x.remove("access_token"),x.remove("refresh_token"),x.remove("user"),e(t.response?.data?.message||"ÄÄƒng xuáº¥t tháº¥t báº¡i")}}),ve=l("auth/changePassword",async(a,{rejectWithValue:e})=>{try{return await W.changePassword(a),{success:!0}}catch(t){return e(t.response?.data?.message||"Äá»•i máº­t kháº©u tháº¥t báº¡i")}}),Ce=l("auth/refreshToken",async(a,{getState:e,rejectWithValue:t})=>{try{const r=e().auth.refresh_token;if(!r)throw new Error("No refresh token available");const n=await W.refreshToken(r);return x.setString("access_token",n.accessToken),x.setString("refresh_token",n.refreshToken),n}catch(r){return t(r.response?.data?.message||"Refresh token tháº¥t báº¡i")}}),ke=l("auth/fetchProfile",async(a,{rejectWithValue:e})=>{try{const t=await W.getProfile();return x.setJSON("user",t),t}catch(t){return e(t.response?.data?.message||"Láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng tháº¥t báº¡i")}});var ct=L({name:"auth",initialState:re,reducers:{setUser:(a,e)=>{a.user=e.payload,x.setJSON("user",e.payload)},clearError:a=>{a.error=null},setTokens:(a,e)=>{a.access_token=e.payload.access_token,a.refresh_token=e.payload.refresh_token,a.isAuthenticated=!0,x.setString("access_token",e.payload.access_token),x.setString("refresh_token",e.payload.refresh_token)}},extraReducers:a=>{a.addCase(xe.pending,e=>{e.loading=!0,e.error=null}),a.addCase(xe.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.access_token=t.payload.accessToken,e.refresh_token=t.payload.refreshToken,e.isAuthenticated=!0,e.error=null}),a.addCase(xe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}),a.addCase(Se.pending,e=>{e.loading=!0,e.error=null}),a.addCase(Se.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.access_token=t.payload.accessToken,e.refresh_token=t.payload.refreshToken,e.isAuthenticated=!0,e.error=null}),a.addCase(Se.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}),a.addCase(se.pending,e=>{e.loading=!0}),a.addCase(se.fulfilled,e=>{e.loading=!1,e.user=null,e.access_token=null,e.refresh_token=null,e.isAuthenticated=!1,e.error=null}),a.addCase(se.rejected,e=>{e.loading=!1,e.user=null,e.access_token=null,e.refresh_token=null,e.isAuthenticated=!1,e.error=null}),a.addCase(ve.pending,e=>{e.loading=!0,e.error=null}),a.addCase(ve.fulfilled,e=>{e.loading=!1,e.error=null}),a.addCase(ve.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ce.pending,e=>{e.loading=!0}),a.addCase(Ce.fulfilled,(e,t)=>{e.loading=!1,e.access_token=t.payload.accessToken,e.refresh_token=t.payload.refreshToken,e.isAuthenticated=!0}),a.addCase(Ce.rejected,e=>{e.loading=!1,e.user=null,e.access_token=null,e.refresh_token=null,e.isAuthenticated=!1}),a.addCase(ke.pending,e=>{e.loading=!0}),a.addCase(ke.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}),a.addCase(ke.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}});const{setUser:vn,clearError:Cn,setTokens:kn}=ct.actions,ut=a=>a.auth.user,Tr=a=>a.auth.isAuthenticated,Ir=a=>a.auth.loading,jn=a=>a.auth.error,Ar=a=>a.auth.user?.role;var Er=ct.reducer;const br={getSummary:async()=>(await o.get("/kpis/summary")).data,getShipArrivals:async(a=7)=>(await o.get("/kpis/charts/ship-arrivals",{params:{days:a}})).data,getTaskStatus:async()=>(await o.get("/kpis/charts/task-status")).data,getAssetUtilization:async()=>(await o.get("/kpis/charts/asset-utilization")).data,getScheduleTimeline:async(a=7)=>(await o.get("/kpis/charts/schedule-timeline",{params:{days:a}})).data,refresh:async()=>{await o.post("/kpis/refresh")}};var X=br,Ta=()=>({ships:{total:28,scheduled:14,berthing:6,loading:5,departing:3,delayed:2,averageBerthTime:17},tasks:{total:142,active:48,completed:82,overdue:12,completionRate:85,byType:{LOADING:36,UNLOADING:28,INSPECTION:22,MAINTENANCE:18},byStatus:{PENDING:24,IN_PROGRESS:48,COMPLETED:82,CANCELLED:8}},assets:{total:54,available:30,inUse:18,maintenance:6,utilizationRate:67,byType:{CRANE:12,FORKLIFT:14,TRUCK:10,CONTAINER:18},byStatus:{AVAILABLE:30,IN_USE:18,MAINTENANCE:6,OUT_OF_SERVICE:0}},schedules:{total:68,active:26,pending:22,completed:20,completionRate:74,conflictsDetected:5},lastUpdated:new Date().toISOString()}),Ia=()=>{const a=new Date;return Array.from({length:7}).map((e,t)=>{const r=new Date(a);return r.setDate(a.getDate()-(6-t)),{date:r.toLocaleDateString("vi-VN",{day:"2-digit",month:"short"}),arrivals:6+t%3,departures:4+(t+1)%3,count:2+t%2}})},Aa=[{status:"Completed",count:68,percentage:48,color:"#2e7d32"},{status:"In Progress",count:42,percentage:30,color:"#1976d2"},{status:"Pending",count:24,percentage:17,color:"#ed6c02"},{status:"Overdue",count:8,percentage:5,color:"#d32f2f"}],Ea=[{type:"Cranes",total:12,available:5,inUse:6,utilizationRate:72},{type:"Forklifts",total:14,available:6,inUse:7,utilizationRate:68},{type:"Trucks",total:10,available:4,inUse:5,utilizationRate:65},{type:"Containers",total:18,available:9,inUse:7,utilizationRate:58}],ba=()=>{const a=new Date;return Array.from({length:7}).map((e,t)=>{const r=new Date(a);return r.setDate(a.getDate()-(6-t)),{date:r.toLocaleDateString("vi-VN",{day:"2-digit",month:"short"}),scheduled:18+t%4,active:12+(t+1)%4,completed:9+t%3}})},R=a=>!a||typeof a!="object"?!1:Object.values(a).some(e=>typeof e=="number"&&e>0),_r=a=>{if(!a)return!0;const e=R(a.ships),t=R(a.tasks)||R(a.tasks?.byType)||R(a.tasks?.byStatus),r=R(a.assets)||R(a.assets?.byType)||R(a.assets?.byStatus),n=R(a.schedules);return!(e||t||r||n)},ee=a=>!Array.isArray(a)||a.length===0?!0:!a.some(e=>R(e)),wr={summary:Ta(),shipArrivals:Ia(),taskStatus:Aa,assetUtilization:Ea,scheduleTimeline:ba(),loading:!1,error:null,lastFetched:null};const ne=l("kpi/fetchSummary",async(a,{rejectWithValue:e})=>{try{return await X.getSummary()}catch(t){return e(t.response?.data?.message||"Failed to fetch KPI summary")}}),ie=l("kpi/fetchShipArrivals",async(a=7,{rejectWithValue:e})=>{try{return await X.getShipArrivals(a)}catch(t){return e(t.response?.data?.message||"Failed to fetch ship arrivals")}}),oe=l("kpi/fetchTaskStatus",async(a,{rejectWithValue:e})=>{try{return await X.getTaskStatus()}catch(t){return e(t.response?.data?.message||"Failed to fetch task status")}}),le=l("kpi/fetchAssetUtilization",async(a,{rejectWithValue:e})=>{try{return await X.getAssetUtilization()}catch(t){return e(t.response?.data?.message||"Failed to fetch asset utilization")}}),de=l("kpi/fetchScheduleTimeline",async(a=7,{rejectWithValue:e})=>{try{return await X.getScheduleTimeline(a)}catch(t){return e(t.response?.data?.message||"Failed to fetch schedule timeline")}}),je=l("kpi/refreshAll",async(a,{dispatch:e})=>{await Promise.all([e(ne()),e(ie(7)),e(oe()),e(le()),e(de(7))])});var pt=L({name:"kpi",initialState:wr,reducers:{clearError:a=>{a.error=null},updateSummary:(a,e)=>{a.summary=e.payload,a.lastFetched=new Date().toISOString()}},extraReducers:a=>{a.addCase(ne.pending,e=>{e.loading=!0,e.error=null}),a.addCase(ne.fulfilled,(e,t)=>{e.loading=!1,e.summary=_r(t.payload)?Ta():t.payload,e.lastFetched=new Date().toISOString()}),a.addCase(ne.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.summary=Ta()}),a.addCase(ie.pending,e=>{e.loading=!0}),a.addCase(ie.fulfilled,(e,t)=>{e.loading=!1,e.shipArrivals=ee(t.payload)?Ia():t.payload}),a.addCase(ie.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.shipArrivals=Ia()}),a.addCase(oe.pending,e=>{e.loading=!0}),a.addCase(oe.fulfilled,(e,t)=>{e.loading=!1,e.taskStatus=ee(t.payload)?Aa:t.payload}),a.addCase(oe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.taskStatus=Aa}),a.addCase(le.pending,e=>{e.loading=!0}),a.addCase(le.fulfilled,(e,t)=>{e.loading=!1,e.assetUtilization=ee(t.payload)?Ea:t.payload}),a.addCase(le.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.assetUtilization=Ea}),a.addCase(de.pending,e=>{e.loading=!0}),a.addCase(de.fulfilled,(e,t)=>{e.loading=!1,e.scheduleTimeline=ee(t.payload)?ba():t.payload}),a.addCase(de.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.scheduleTimeline=ba()}),a.addCase(je.pending,e=>{e.loading=!0,e.error=null}),a.addCase(je.fulfilled,e=>{e.loading=!1,e.lastFetched=new Date().toISOString()}),a.addCase(je.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to refresh KPIs"})}});const{clearError:Tn,updateSummary:In}=pt.actions,An=a=>a.kpi.summary,En=a=>a.kpi.shipArrivals,bn=a=>a.kpi.taskStatus,_n=a=>a.kpi.assetUtilization,wn=a=>a.kpi.scheduleTimeline,Ln=a=>a.kpi.loading;var Lr=pt.reducer,Rr=3600*1e3,B=(a,e)=>{if(!a)return e;if(typeof a=="string"){const t=new Date(a);return Number.isNaN(t.getTime())?e:t.toISOString()}return a instanceof Date?Number.isNaN(a.getTime())?e:a.toISOString():e},j=(a,e)=>typeof a=="string"&&a.trim().length>0?a.trim():e,Fa=(a,e)=>{if(typeof a=="number"&&Number.isFinite(a))return a;if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return e},T=a=>{if(typeof a=="string"){const e=a.trim();return e.length>0?e:void 0}},Nr=a=>{if(typeof a=="number"&&Number.isFinite(a))return a},v=a=>new Date(Date.now()+a*Rr).toISOString(),b=a=>{const e=new Date().toISOString(),t=a||{},r=B(t.eta??t.eta??null,e),n=B(t.etd??t.etd??t.eta??null,r),i=t.actualArrival??t.ata??null,u=t.actualDeparture??t.atd??null,g=i?B(i,r):void 0,m=u?B(u,n):void 0,d=t.cargoDetails||null,h=d?.weight??t.cargoQuantity,y=h!=null;return{id:t.id||j(a?.id,`fallback-${Math.random().toString(36).slice(2)}`),shipName:j(t.shipName??t.vesselName,"Unknown Vessel"),imoNumber:j(t.imoNumber??t.vesselIMO,"N/A"),vesselType:t.vesselType||d?.type||"General Cargo",flag:j(t.flag??d?.flag,"Unknown"),grossTonnage:Fa(t.grossTonnage??(y?h:0),0),eta:r,etd:n,actualArrival:g,actualDeparture:m,berthId:t.berthId||t.berthLocation||t.berthName||void 0,berthName:j(t.berthName??t.berthLocation,"Unassigned"),berth:j(t.berthName??t.berthLocation,"Unassigned"),shipType:t.vesselType||d?.type||"General Cargo",visitPurpose:j(t.visitPurpose??t.remarks,"General Operations"),status:t.status||"PLANNED",agentCompany:j(t.agentCompany??t.agent,"Not Assigned"),agentContact:j(t.agentContact,"N/A"),cargoType:j(t.cargoType??d?.type,"General Cargo"),cargoQuantity:y?Fa(h,0):null,cargoUnit:j(t.cargoUnit??d?.unit,y?"tons":"N/A"),specialNotes:j(t.specialNotes??t.remarks,""),createdAt:B(t.createdAt??t.createdAt??null,e),updatedAt:B(t.updatedAt??t.updatedAt??null,e),createdBy:j(t.createdBy,"System")}},Dr=a=>Array.isArray(a)?a.map(e=>b(e)):Array.isArray(a?.data)?a.data.map(e=>b(e)):[],Or=()=>[{id:"fallback-ship-1",shipName:"MV Ocean Star",imoNumber:"IMO9876543",vesselType:"Container Ship",flag:"Singapore",grossTonnage:15e3,eta:v(-2),etd:v(46),actualArrival:v(-1),actualDeparture:void 0,berthId:"B-01",berthName:"B-01",visitPurpose:"Priority unloading operations",status:"IN_PROGRESS",agentCompany:"Port Services Inc",agentContact:"ops@portservices.test",cargoType:"Containers",cargoQuantity:15e3,cargoUnit:"tons",specialNotes:"High priority vessel - scheduled unloading operations",createdAt:v(-4),updatedAt:v(-1),createdBy:"System"},{id:"fallback-ship-2",shipName:"MV Pacific Pearl",imoNumber:"IMO9876544",vesselType:"Container Ship",flag:"Panama",grossTonnage:12500,eta:v(-4),etd:v(24),actualArrival:v(-3),actualDeparture:void 0,berthId:"B-02",berthName:"B-02",visitPurpose:"Container discharge and loading",status:"IN_PROGRESS",agentCompany:"Marine Logistics Ltd",agentContact:"contact@marinelogistics.test",cargoType:"Containers",cargoQuantity:12500,cargoUnit:"tons",specialNotes:"Real-time monitoring enabled",createdAt:v(-6),updatedAt:v(-2),createdBy:"System"},{id:"fallback-ship-3",shipName:"MV Atlantic Queen",imoNumber:"IMO9876545",vesselType:"Bulk Carrier",flag:"Liberia",grossTonnage:25e3,eta:v(-.5),etd:v(72),actualArrival:v(-.25),actualDeparture:void 0,berthId:"B-03",berthName:"B-03",visitPurpose:"Bulk grain discharge",status:"ARRIVED",agentCompany:"Ocean Freight Co",agentContact:"support@oceanfreight.test",cargoType:"Bulk Grain",cargoQuantity:25e3,cargoUnit:"tons",specialNotes:"Requires special handling procedures",createdAt:v(-1),updatedAt:v(-.2),createdBy:"System"},{id:"fallback-ship-4",shipName:"MV Baltic Breeze",imoNumber:"IMO9876546",vesselType:"Container Ship",flag:"Denmark",grossTonnage:18e3,eta:v(6),etd:v(96),actualArrival:void 0,actualDeparture:void 0,berthId:"B-04",berthName:"B-04",visitPurpose:"Upcoming arrival",status:"PLANNED",agentCompany:"Coastal Shipping",agentContact:"desk@coastalshipping.test",cargoType:"Containers",cargoQuantity:18e3,cargoUnit:"tons",specialNotes:"ETA confirmation pending",createdAt:v(-.1),updatedAt:v(-.05),createdBy:"System"}],Te=()=>Or(),ht=a=>{const e={vesselName:T(a.shipName)??"Unnamed Vessel",vesselIMO:T(a.imoNumber),vesselType:T(a.vesselType),cargo:T(a.cargoType)??T(a.visitPurpose),cargoVolume:Nr(a.cargoQuantity),eta:T(a.eta)??new Date().toISOString(),etd:T(a.etd),berthAllocation:T(a.berthName??a.berthId),agent:T(a.agentCompany)};return e.vesselIMO||delete e.vesselIMO,e.vesselType||delete e.vesselType,e.cargo||delete e.cargo,e.cargoVolume===void 0&&delete e.cargoVolume,e.etd||delete e.etd,e.berthAllocation||delete e.berthAllocation,e.agent||delete e.agent,e},Pr=a=>{const e={...ht(a),status:a.status,eta:T(a.eta)??new Date().toISOString(),etd:T(a.etd)},t=T(a.actualArrival),r=T(a.actualDeparture);return t&&(e.ata=t),r&&(e.atd=r),e.status||delete e.status,e.etd||delete e.etd,e},Vr={shipVisits:[],currentShipVisit:null,filters:{status:"ALL",search:"",dateRange:{start:null,end:null},portId:"ALL"},pagination:{page:1,limit:12,total:0,totalPages:0},loading:!1,error:null,statistics:null},N="/ship-visits";const Ie=l("shipVisits/fetchShipVisits",async(a,{getState:e,rejectWithValue:t})=>{try{const{filters:r}=e().shipVisits,n={};return r.status!=="ALL"&&(n.status=r.status),r.search&&(n.vesselName=r.search),r.dateRange.start&&(n.fromDate=r.dateRange.start.toISOString()),r.dateRange.end&&(n.toDate=r.dateRange.end.toISOString()),(await o.get(N,{params:n})).data}catch(r){return t(r.response?.data?.message||"Failed to fetch ship visits")}}),Ae=l("shipVisits/fetchShipVisitById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`${N}/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch ship visit")}}),Ee=l("shipVisits/createShipVisit",async(a,{rejectWithValue:e})=>{try{const t=ht(a);return(await o.post(N,t)).data}catch(t){return e(t.response?.data?.message||"Failed to create ship visit")}}),be=l("shipVisits/updateShipVisit",async({id:a,data:e},{rejectWithValue:t})=>{try{const r=Pr(e);return(await o.patch(`${N}/${a}`,r)).data}catch(r){return t(r.response?.data?.message||"Failed to update ship visit")}}),_e=l("shipVisits/deleteShipVisit",async(a,{rejectWithValue:e})=>{try{return await o.delete(`${N}/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete ship visit")}}),we=l("shipVisits/updateShipVisitStatus",async({id:a,status:e},{rejectWithValue:t})=>{try{return(await o.patch(`${N}/${a}/status`,{status:e})).data}catch(r){return t(r.response?.data?.message||"Failed to update status")}}),Mr=l("shipVisits/recordArrival",async(a,{rejectWithValue:e})=>{try{return(await o.patch(`${N}/${a}/arrival`)).data}catch(t){return e(t.response?.data?.message||"Failed to record arrival")}}),Fr=l("shipVisits/recordDeparture",async(a,{rejectWithValue:e})=>{try{return(await o.patch(`${N}/${a}/departure`)).data}catch(t){return e(t.response?.data?.message||"Failed to record departure")}}),Le=l("shipVisits/fetchStatistics",async(a,{rejectWithValue:e})=>{try{return(await o.get(`${N}/statistics`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch statistics")}});var gt=L({name:"shipVisits",initialState:Vr,reducers:{setFilters:(a,e)=>{a.filters={...a.filters,...e.payload},a.pagination.page=1},setPagination:(a,e)=>{a.pagination={...a.pagination,...e.payload}},clearError:a=>{a.error=null},updateShipVisitRealtime:(a,e)=>{const t=b(e.payload),r=a.shipVisits.findIndex(n=>n.id===t.id);r!==-1?a.shipVisits[r]=t:a.shipVisits.unshift(t),a.pagination.total=a.shipVisits.length,a.pagination.totalPages=Math.max(1,Math.ceil(a.pagination.total/a.pagination.limit)),a.currentShipVisit?.id===t.id&&(a.currentShipVisit=t)},addShipVisit:(a,e)=>{const t=b(e.payload);a.shipVisits.unshift(t),a.pagination.total=a.shipVisits.length,a.pagination.totalPages=Math.max(1,Math.ceil(a.pagination.total/a.pagination.limit))},removeShipVisit:(a,e)=>{a.shipVisits=a.shipVisits.filter(t=>t.id!==e.payload),a.pagination.total=a.shipVisits.length,a.pagination.totalPages=Math.max(1,Math.ceil(a.pagination.total/a.pagination.limit)),a.currentShipVisit?.id===e.payload&&(a.currentShipVisit=null)},clearCurrentShipVisit:a=>{a.currentShipVisit=null}},extraReducers:a=>{a.addCase(Ie.pending,e=>{e.loading=!0,e.error=null}),a.addCase(Ie.fulfilled,(e,t)=>{e.loading=!1;const r=Array.isArray(t.payload)?t.payload:Array.isArray(t.payload?.data)?t.payload.data:null,n=Dr(t.payload);e.shipVisits=r===null&&n.length===0?Te():n;const i=t.payload?.total;e.pagination.total=typeof i=="number"&&i>=0?i:e.shipVisits.length,e.pagination.totalPages=Math.max(1,Math.ceil(e.pagination.total/e.pagination.limit)),e.error=null}),a.addCase(Ie.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.shipVisits=Te(),e.pagination.total=e.shipVisits.length,e.pagination.totalPages=Math.max(1,Math.ceil(e.pagination.total/e.pagination.limit))}),a.addCase(Ae.pending,e=>{e.loading=!0,e.error=null}),a.addCase(Ae.fulfilled,(e,t)=>{e.loading=!1,e.currentShipVisit=b(t.payload?.data??t.payload),e.error=null}),a.addCase(Ae.rejected,(e,t)=>{e.loading=!1,e.error=t.payload;const r=Te();e.currentShipVisit=r.length?r[0]:null}),a.addCase(Ee.pending,e=>{e.loading=!0,e.error=null}),a.addCase(Ee.fulfilled,(e,t)=>{e.loading=!1;const r=b(t.payload?.data??t.payload);e.shipVisits.unshift(r),e.pagination.total=e.shipVisits.length,e.pagination.totalPages=Math.max(1,Math.ceil(e.pagination.total/e.pagination.limit)),e.error=null}),a.addCase(Ee.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(be.pending,e=>{e.loading=!0,e.error=null}),a.addCase(be.fulfilled,(e,t)=>{e.loading=!1;const r=b(t.payload?.data??t.payload),n=e.shipVisits.findIndex(i=>i.id===r.id);n!==-1&&(e.shipVisits[n]=r),e.currentShipVisit?.id===r.id&&(e.currentShipVisit=r),e.error=null}),a.addCase(be.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(_e.pending,e=>{e.loading=!0,e.error=null}),a.addCase(_e.fulfilled,(e,t)=>{e.loading=!1,e.shipVisits=e.shipVisits.filter(r=>r.id!==t.payload),e.pagination.total=e.shipVisits.length,e.pagination.totalPages=Math.max(1,Math.ceil(e.pagination.total/e.pagination.limit)),e.currentShipVisit?.id===t.payload&&(e.currentShipVisit=null),e.error=null}),a.addCase(_e.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(we.pending,e=>{e.loading=!0}),a.addCase(we.fulfilled,(e,t)=>{e.loading=!1;const r=b(t.payload?.data??t.payload),n=e.shipVisits.findIndex(i=>i.id===r.id);n!==-1&&(e.shipVisits[n]=r),e.currentShipVisit?.id===r.id&&(e.currentShipVisit=r),e.error=null}),a.addCase(we.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Mr.fulfilled,(e,t)=>{const r=b(t.payload?.data??t.payload),n=e.shipVisits.findIndex(i=>i.id===r.id);n!==-1&&(e.shipVisits[n]=r),e.currentShipVisit?.id===r.id&&(e.currentShipVisit=r),e.error=null}),a.addCase(Fr.fulfilled,(e,t)=>{const r=b(t.payload?.data??t.payload),n=e.shipVisits.findIndex(i=>i.id===r.id);n!==-1&&(e.shipVisits[n]=r),e.currentShipVisit?.id===r.id&&(e.currentShipVisit=r),e.error=null}),a.addCase(Le.pending,e=>{e.loading=!0}),a.addCase(Le.fulfilled,(e,t)=>{e.loading=!1,e.statistics=t.payload.data||t.payload,e.error=null}),a.addCase(Le.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}});const{setFilters:Rn,setPagination:Nn,clearError:Dn,updateShipVisitRealtime:On,addShipVisit:Pn,removeShipVisit:Vn,clearCurrentShipVisit:Mn}=gt.actions,Fn=a=>a.shipVisits.shipVisits,zn=a=>a.shipVisits.loading,Un=a=>a.shipVisits.error,Bn=a=>a.shipVisits.filters,$n=a=>a.shipVisits.pagination;var zr=gt.reducer,Ur=a=>{if(typeof a!="string")return"SCHEDULED";switch(a.toUpperCase()){case"PENDING":return"PENDING";case"IN_PROGRESS":case"ACTIVE":return"IN_PROGRESS";case"COMPLETED":return"COMPLETED";case"CANCELLED":case"CANCELED":return"CANCELLED";default:return"SCHEDULED"}},Br=a=>{if(typeof a!="string")return"PORT_OPERATION";switch(a.toUpperCase()){case"SHIP_ARRIVAL":return"SHIP_ARRIVAL";case"MAINTENANCE":return"MAINTENANCE";default:return"PORT_OPERATION"}},$r=a=>{if(typeof a!="string")return"NONE";switch(a.toUpperCase()){case"DAILY":return"DAILY";case"WEEKLY":return"WEEKLY";case"MONTHLY":return"MONTHLY";default:return"NONE"}},ae=a=>a instanceof Date?a.toISOString():typeof a=="number"?new Date(a).toISOString():typeof a=="string"&&a.trim().length>0?a:new Date().toISOString(),F=a=>typeof a=="object"&&a!==null?a:{},I=(a,e)=>typeof a=="string"?a:e,A=a=>{if(!a){const D=new Date().toISOString();return{id:`temp-${Math.random().toString(36).slice(2)}`,name:"Untitled Schedule",description:null,type:"PORT_OPERATION",status:"SCHEDULED",startTime:D,endTime:D,berthId:null,berthName:void 0,shipVisitId:null,shipVisitName:void 0,recurrence:"NONE",notes:null,createdAt:D,updatedAt:D,createdBy:"System",updatedBy:"System"}}const e=F(a),t="data"in e&&!Array.isArray(e.data)?F(e.data):e,r=F(t),n=F(r.shipVisit),i=F(r.berth),u=r.id??r.scheduleId,g=r.name??r.operation??r.title,m=r.notes??r.description,d=r.berthId??i.id,h=r.shipVisitId??n.id,y=r.shipVisitName??n.vesselName??n.name,P=r.berthName??i.name??n.assignedBerth;return{id:I(u,`temp-${Math.random().toString(36).slice(2)}`),name:I(g,"Untitled Schedule"),description:I(r.description)??I(m)??null,type:Br(r.type??r.operationType),status:Ur(r.status??r.state),startTime:ae(r.startTime??r.actualStartTime??r.begin),endTime:ae(r.endTime??r.actualEndTime??r.finish),berthId:I(d??void 0)??null,berthName:I(P??void 0),shipVisitId:I(h??void 0)??null,shipVisitName:I(y??void 0),recurrence:$r(r.recurrence??r.repeatPattern),notes:I(m??void 0)??null,createdAt:ae(r.createdAt??r.created_at),updatedAt:ae(r.updatedAt??r.updated_at),createdBy:I(r.createdBy??r.created_by,"System"),updatedBy:I(r.updatedBy??r.updated_by,"System")}},za=a=>{if(Array.isArray(a))return a.map(A);const e=F(a);return Array.isArray(e.data)?e.data.map(A):Array.isArray(e.items)?e.items.map(A):[]},Wr=(a,e)=>{const t=F(a);return typeof t.total=="number"?t.total:e},Ua={schedules:[],currentSchedule:null,calendarView:"week",selectedDate:new Date,filters:{search:"",type:"ALL",status:"ALL",dateRange:{start:null,end:null},berthId:null},loading:!1,error:null,pagination:{total:0,page:1,limit:20}};const Re=l("schedules/fetchSchedules",async(a,{getState:e,rejectWithValue:t})=>{try{const{filters:r}=e().schedules,n={};return r.status!=="ALL"&&(n.status=r.status),r.search&&(n.operation=r.search),r.dateRange.start&&(n.fromDate=r.dateRange.start.toISOString()),r.dateRange.end&&(n.toDate=r.dateRange.end.toISOString()),(await o.get("/schedules",{params:n})).data}catch(r){return t(r.response?.data?.message||"Failed to fetch schedules")}}),Ne=l("schedules/fetchScheduleById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/schedules/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch schedule")}}),De=l("schedules/fetchSchedulesByDateRange",async({start:a,end:e},{rejectWithValue:t})=>{try{const r={fromDate:a.toISOString(),toDate:e.toISOString()};return(await o.get("/schedules",{params:r})).data}catch(r){return t(r.response?.data?.message||"Failed to fetch schedules")}}),Oe=l("schedules/createSchedule",async(a,{rejectWithValue:e})=>{try{const t={...a,startTime:a.startTime.toISOString(),endTime:a.endTime.toISOString(),recurrence:a.recurrence||"NONE"};return(await o.post("/schedules",t)).data}catch(t){return e(t.response?.data?.message||"Failed to create schedule")}}),Pe=l("schedules/updateSchedule",async({id:a,data:e},{rejectWithValue:t})=>{try{const r={...e};return e.startTime&&(r.startTime=e.startTime.toISOString()),e.endTime&&(r.endTime=e.endTime.toISOString()),(await o.patch(`/schedules/${a}`,r)).data}catch(r){return t(r.response?.data?.message||"Failed to update schedule")}}),Ve=l("schedules/deleteSchedule",async(a,{rejectWithValue:e})=>{try{return await o.delete(`/schedules/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete schedule")}}),Hr=l("schedules/startSchedule",async(a,{rejectWithValue:e})=>{try{return(await o.patch(`/schedules/${a}`,{status:"IN_PROGRESS"})).data}catch(t){return e(t.response?.data?.message||"Failed to start schedule")}}),Gr=l("schedules/completeSchedule",async(a,{rejectWithValue:e})=>{try{return(await o.patch(`/schedules/${a}`,{status:"COMPLETED"})).data}catch(t){return e(t.response?.data?.message||"Failed to complete schedule")}}),Yr=l("schedules/cancelSchedule",async(a,{rejectWithValue:e})=>{try{return(await o.patch(`/schedules/${a}`,{status:"CANCELLED"})).data}catch(t){return e(t.response?.data?.message||"Failed to cancel schedule")}});var ft=L({name:"schedules",initialState:Ua,reducers:{setCalendarView:(a,e)=>{a.calendarView=e.payload},setSelectedDate:(a,e)=>{a.selectedDate=e.payload},setFilters:(a,e)=>{a.filters={...a.filters,...e.payload}},resetFilters:a=>{a.filters=Ua.filters},clearCurrentSchedule:a=>{a.currentSchedule=null},clearError:a=>{a.error=null},addScheduleRealtime:(a,e)=>{const t=A(e.payload);a.schedules.unshift(t),a.pagination.total+=1},updateScheduleRealtime:(a,e)=>{const t=A(e.payload),r=a.schedules.findIndex(n=>n.id===t.id);r!==-1&&(a.schedules[r]=t),a.currentSchedule?.id===t.id&&(a.currentSchedule=t)},removeScheduleRealtime:(a,e)=>{a.schedules=a.schedules.filter(t=>t.id!==e.payload),a.pagination.total-=1,a.currentSchedule?.id===e.payload&&(a.currentSchedule=null)}},extraReducers:a=>{a.addCase(Re.pending,e=>{e.loading=!0,e.error=null}).addCase(Re.fulfilled,(e,t)=>{e.loading=!1;const r=za(t.payload);e.schedules=r,e.pagination.total=Wr(t.payload,r.length)}).addCase(Re.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ne.pending,e=>{e.loading=!0,e.error=null}).addCase(Ne.fulfilled,(e,t)=>{e.loading=!1,e.currentSchedule=A(t.payload)}).addCase(Ne.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(De.pending,e=>{e.loading=!0,e.error=null}).addCase(De.fulfilled,(e,t)=>{e.loading=!1,e.schedules=za(t.payload)}).addCase(De.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Oe.pending,e=>{e.loading=!0,e.error=null}).addCase(Oe.fulfilled,(e,t)=>{e.loading=!1;const r=A(t.payload);e.schedules.unshift(r),e.pagination.total+=1}).addCase(Oe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Pe.pending,e=>{e.loading=!0,e.error=null}).addCase(Pe.fulfilled,(e,t)=>{e.loading=!1;const r=A(t.payload),n=e.schedules.findIndex(i=>i.id===r.id);n!==-1&&(e.schedules[n]=r),e.currentSchedule?.id===r.id&&(e.currentSchedule=r)}).addCase(Pe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ve.pending,e=>{e.loading=!0,e.error=null}).addCase(Ve.fulfilled,(e,t)=>{e.loading=!1,e.schedules=e.schedules.filter(r=>r.id!==t.payload),e.pagination.total-=1,e.currentSchedule?.id===t.payload&&(e.currentSchedule=null)}).addCase(Ve.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Hr.fulfilled,(e,t)=>{const r=A(t.payload),n=e.schedules.findIndex(i=>i.id===r.id);n!==-1&&(e.schedules[n]=r),e.currentSchedule?.id===r.id&&(e.currentSchedule=r)}),a.addCase(Gr.fulfilled,(e,t)=>{const r=A(t.payload),n=e.schedules.findIndex(i=>i.id===r.id);n!==-1&&(e.schedules[n]=r),e.currentSchedule?.id===r.id&&(e.currentSchedule=r)}),a.addCase(Yr.fulfilled,(e,t)=>{const r=A(t.payload),n=e.schedules.findIndex(i=>i.id===r.id);n!==-1&&(e.schedules[n]=r),e.currentSchedule?.id===r.id&&(e.currentSchedule=r)})}});const{setCalendarView:Wn,setSelectedDate:Hn,setFilters:Gn,resetFilters:Yn,clearCurrentSchedule:Kn,clearError:qn,addScheduleRealtime:Qn,updateScheduleRealtime:Jn,removeScheduleRealtime:Xn}=ft.actions;var Kr=ft.reducer,Ba={tasks:[],currentTask:null,kanbanColumns:[{id:"TODO",title:"To Do",color:"#e3f2fd",tasks:[]},{id:"IN_PROGRESS",title:"In Progress",color:"#fff3e0",tasks:[]},{id:"REVIEW",title:"Review",color:"#f3e5f5",tasks:[]},{id:"DONE",title:"Done",color:"#e8f5e9",tasks:[]}],filters:{search:"",type:"ALL",status:"ALL",priority:"ALL",assigneeId:null,dateRange:{start:null,end:null}},loading:!1,error:null,pagination:{total:0,page:1,limit:20}};const Me=l("tasks/fetchTasks",async(a,{getState:e,rejectWithValue:t})=>{try{const{filters:r}=e().tasks,n={};return r.type!=="ALL"&&(n.type=r.type),r.status!=="ALL"&&(n.status=r.status),r.priority!=="ALL"&&(n.priority=r.priority),r.search&&(n.title=r.search),r.assigneeId&&(n.assigneeId=r.assigneeId),r.dateRange.start&&(n.fromDate=r.dateRange.start.toISOString()),r.dateRange.end&&(n.toDate=r.dateRange.end.toISOString()),(await o.get("/tasks",{params:n})).data}catch(r){return t(r.response?.data?.message||"Failed to fetch tasks")}}),Fe=l("tasks/fetchTaskById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/tasks/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch task")}}),ze=l("tasks/createTask",async(a,{rejectWithValue:e})=>{try{const t={...a,status:"TODO"};return a.dueDate&&(t.dueDate=a.dueDate.toISOString()),(await o.post("/tasks",t)).data}catch(t){return e(t.response?.data?.message||"Failed to create task")}}),Ue=l("tasks/updateTask",async({id:a,data:e},{rejectWithValue:t})=>{try{const r={...e};return e.dueDate&&(r.dueDate=e.dueDate.toISOString()),(await o.patch(`/tasks/${a}`,r)).data}catch(r){return t(r.response?.data?.message||"Failed to update task")}}),Be=l("tasks/deleteTask",async(a,{rejectWithValue:e})=>{try{return await o.delete(`/tasks/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete task")}}),qr=l("tasks/assignTask",async({taskId:a,userId:e},{rejectWithValue:t})=>{try{return(await o.patch(`/tasks/${a}`,{assigneeId:e})).data}catch(r){return t(r.response?.data?.message||"Failed to assign task")}}),Qr=l("tasks/updateTaskStatus",async({taskId:a,status:e},{rejectWithValue:t})=>{try{const r={status:e};return e==="DONE"&&(r.completedAt=new Date().toISOString()),(await o.patch(`/tasks/${a}`,r)).data}catch(r){return t(r.response?.data?.message||"Failed to update task status")}}),Zn=l("tasks/reorderTasks",async(a,{rejectWithValue:e})=>{try{return a}catch(t){return e(t.response?.data?.message||"Failed to reorder tasks")}}),ei=l("tasks/addTaskComment",async({taskId:a,content:e},{rejectWithValue:t})=>{try{return(await o.post(`/tasks/${a}/comments`,{content:e})).data}catch(r){return t(r.response?.data?.message||"Failed to add comment")}}),ai=l("tasks/fetchTaskComments",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/tasks/${a}/comments`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch comments")}});var $e=a=>{const e=[{id:"TODO",title:"To Do",color:"#e3f2fd",tasks:[]},{id:"IN_PROGRESS",title:"In Progress",color:"#fff3e0",tasks:[]},{id:"REVIEW",title:"Review",color:"#f3e5f5",tasks:[]},{id:"DONE",title:"Done",color:"#e8f5e9",tasks:[]}];return a.forEach(t=>{const r=e.find(n=>n.id===t.status);r&&r.tasks.push(t)}),e},mt=L({name:"tasks",initialState:Ba,reducers:{setFilters:(a,e)=>{a.filters={...a.filters,...e.payload}},resetFilters:a=>{a.filters=Ba.filters},clearCurrentTask:a=>{a.currentTask=null},clearError:a=>{a.error=null},moveTask:(a,e)=>{const{taskId:t,newColumnId:r,newIndex:n}=e.payload;let i,u;for(const g of a.kanbanColumns){const m=g.tasks.findIndex(d=>d.id===t);if(m!==-1){i=g.tasks[m],u=g,g.tasks.splice(m,1);break}}if(i&&u){i.status=r;const g=a.kanbanColumns.find(d=>d.id===r);g&&g.tasks.splice(n,0,i);const m=a.tasks.findIndex(d=>d.id===t);m!==-1&&(a.tasks[m]=i)}},addTaskRealtime:(a,e)=>{a.tasks.unshift(e.payload),a.pagination.total+=1;const t=a.kanbanColumns.find(r=>r.id===e.payload.status);t&&t.tasks.unshift(e.payload)},updateTaskRealtime:(a,e)=>{const t=a.tasks.findIndex(r=>r.id===e.payload.id);if(t!==-1){const r=a.tasks[t].status;if(a.tasks[t]=e.payload,r!==e.payload.status){const n=a.kanbanColumns.find(u=>u.id===r);n&&(n.tasks=n.tasks.filter(u=>u.id!==e.payload.id));const i=a.kanbanColumns.find(u=>u.id===e.payload.status);i&&i.tasks.unshift(e.payload)}else{const n=a.kanbanColumns.find(i=>i.id===e.payload.status);if(n){const i=n.tasks.findIndex(u=>u.id===e.payload.id);i!==-1&&(n.tasks[i]=e.payload)}}}a.currentTask?.id===e.payload.id&&(a.currentTask=e.payload)},removeTaskRealtime:(a,e)=>{a.tasks=a.tasks.filter(t=>t.id!==e.payload),a.pagination.total-=1,a.kanbanColumns.forEach(t=>{t.tasks=t.tasks.filter(r=>r.id!==e.payload)}),a.currentTask?.id===e.payload&&(a.currentTask=null)}},extraReducers:a=>{a.addCase(Me.pending,e=>{e.loading=!0,e.error=null}).addCase(Me.fulfilled,(e,t)=>{e.loading=!1,e.tasks=t.payload.data||[],e.pagination.total=t.payload.total||0,e.kanbanColumns=$e(e.tasks)}).addCase(Me.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Fe.pending,e=>{e.loading=!0,e.error=null}).addCase(Fe.fulfilled,(e,t)=>{e.loading=!1,e.currentTask=t.payload.data}).addCase(Fe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ze.pending,e=>{e.loading=!0,e.error=null}).addCase(ze.fulfilled,(e,t)=>{e.loading=!1,e.tasks.unshift(t.payload.data),e.pagination.total+=1;const r=e.kanbanColumns.find(n=>n.id===t.payload.data.status);r&&r.tasks.unshift(t.payload.data)}).addCase(ze.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ue.pending,e=>{e.loading=!0,e.error=null}).addCase(Ue.fulfilled,(e,t)=>{e.loading=!1;const r=e.tasks.findIndex(n=>n.id===t.payload.data.id);r!==-1&&(e.tasks[r]=t.payload.data),e.currentTask?.id===t.payload.data.id&&(e.currentTask=t.payload.data),e.kanbanColumns=$e(e.tasks)}).addCase(Ue.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Be.pending,e=>{e.loading=!0,e.error=null}).addCase(Be.fulfilled,(e,t)=>{e.loading=!1,e.tasks=e.tasks.filter(r=>r.id!==t.payload),e.pagination.total-=1,e.currentTask?.id===t.payload&&(e.currentTask=null),e.kanbanColumns.forEach(r=>{r.tasks=r.tasks.filter(n=>n.id!==t.payload)})}).addCase(Be.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(qr.fulfilled,(e,t)=>{const r=e.tasks.findIndex(n=>n.id===t.payload.data.id);r!==-1&&(e.tasks[r]=t.payload.data),e.currentTask?.id===t.payload.data.id&&(e.currentTask=t.payload.data),e.kanbanColumns.forEach(n=>{const i=n.tasks.findIndex(u=>u.id===t.payload.data.id);i!==-1&&(n.tasks[i]=t.payload.data)})}),a.addCase(Qr.fulfilled,(e,t)=>{const r=e.tasks.findIndex(n=>n.id===t.payload.data.id);r!==-1&&(e.tasks[r]=t.payload.data),e.currentTask?.id===t.payload.data.id&&(e.currentTask=t.payload.data),e.kanbanColumns=$e(e.tasks)})}});const{setFilters:ti,resetFilters:ri,clearCurrentTask:si,clearError:ni,moveTask:ii,addTaskRealtime:oi,updateTaskRealtime:li,removeTaskRealtime:di}=mt.actions;var Jr=mt.reducer,$a={assets:[],currentAsset:null,filters:{search:"",type:"ALL",status:"ALL",location:null,maintenanceDue:!1},loading:!1,error:null,pagination:{total:0,page:1,limit:10}};const We=l("assets/fetchAssets",async(a={},{rejectWithValue:e})=>{try{return(await o.get("/assets",{params:a})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch assets")}}),He=l("assets/fetchAssetById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/assets/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch asset")}}),Ge=l("assets/createAsset",async(a,{rejectWithValue:e})=>{try{return(await o.post("/assets",a)).data}catch(t){return e(t.response?.data?.message||"Failed to create asset")}}),Ye=l("assets/updateAsset",async({assetId:a,data:e},{rejectWithValue:t})=>{try{return(await o.patch(`/assets/${a}`,e)).data}catch(r){return t(r.response?.data?.message||"Failed to update asset")}}),Ke=l("assets/deleteAsset",async(a,{rejectWithValue:e})=>{try{return await o.delete(`/assets/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete asset")}}),qe=l("assets/updateAssetStatus",async({assetId:a,status:e},{rejectWithValue:t})=>{try{return(await o.patch(`/assets/${a}/status`,{status:e})).data}catch(r){return t(r.response?.data?.message||"Failed to update asset status")}}),Qe=l("assets/fetchAssetsByType",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/assets/type/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch assets by type")}}),Je=l("assets/fetchMaintenanceDue",async(a,{rejectWithValue:e})=>{try{return(await o.get("/assets/maintenance/due")).data}catch(t){return e(t.response?.data?.message||"Failed to fetch maintenance due assets")}});var yt=L({name:"assets",initialState:$a,reducers:{setFilters:(a,e)=>{a.filters={...a.filters,...e.payload}},resetFilters:a=>{a.filters=$a.filters},clearCurrentAsset:a=>{a.currentAsset=null},clearError:a=>{a.error=null},addAssetRealtime:(a,e)=>{a.assets.find(t=>t.id===e.payload.id)||(a.assets.unshift(e.payload),a.pagination.total+=1)},updateAssetRealtime:(a,e)=>{const t=a.assets.findIndex(r=>r.id===e.payload.id);t!==-1&&(a.assets[t]=e.payload),a.currentAsset?.id===e.payload.id&&(a.currentAsset=e.payload)},removeAssetRealtime:(a,e)=>{a.assets=a.assets.filter(t=>t.id!==e.payload),a.pagination.total=Math.max(0,a.pagination.total-1),a.currentAsset?.id===e.payload&&(a.currentAsset=null)}},extraReducers:a=>{a.addCase(We.pending,e=>{e.loading=!0,e.error=null}).addCase(We.fulfilled,(e,t)=>{e.loading=!1,e.assets=t.payload.data||t.payload,e.pagination={total:t.payload.total||t.payload.length,page:t.payload.page||1,limit:t.payload.limit||10}}).addCase(We.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(He.pending,e=>{e.loading=!0,e.error=null}).addCase(He.fulfilled,(e,t)=>{e.loading=!1,e.currentAsset=t.payload}).addCase(He.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ge.pending,e=>{e.loading=!0,e.error=null}).addCase(Ge.fulfilled,(e,t)=>{e.loading=!1,e.assets.unshift(t.payload),e.pagination.total+=1}).addCase(Ge.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ye.pending,e=>{e.loading=!0,e.error=null}).addCase(Ye.fulfilled,(e,t)=>{e.loading=!1;const r=e.assets.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.assets[r]=t.payload),e.currentAsset?.id===t.payload.id&&(e.currentAsset=t.payload)}).addCase(Ye.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Ke.pending,e=>{e.loading=!0,e.error=null}).addCase(Ke.fulfilled,(e,t)=>{e.loading=!1,e.assets=e.assets.filter(r=>r.id!==t.payload),e.pagination.total=Math.max(0,e.pagination.total-1),e.currentAsset?.id===t.payload&&(e.currentAsset=null)}).addCase(Ke.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(qe.pending,e=>{e.loading=!0,e.error=null}).addCase(qe.fulfilled,(e,t)=>{e.loading=!1;const r=e.assets.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.assets[r]=t.payload),e.currentAsset?.id===t.payload.id&&(e.currentAsset=t.payload)}).addCase(qe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Qe.pending,e=>{e.loading=!0,e.error=null}).addCase(Qe.fulfilled,(e,t)=>{e.loading=!1,e.assets=t.payload}).addCase(Qe.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(Je.pending,e=>{e.loading=!0,e.error=null}).addCase(Je.fulfilled,(e,t)=>{e.loading=!1,e.assets=t.payload}).addCase(Je.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}});const{setFilters:ci,resetFilters:ui,clearCurrentAsset:pi,clearError:hi,addAssetRealtime:gi,updateAssetRealtime:fi,removeAssetRealtime:mi}=yt.actions;var Xr=yt.reducer,z=a=>a&&typeof a=="object"&&"success"in a&&"data"in a?a.data:a,Xe=a=>{const e=z(a);if(Array.isArray(e))return e;if(e&&typeof e=="object"){const t=e;if(Array.isArray(t.data))return t.data;if(Array.isArray(t.items))return t.items}return[]},Zr=(a,e)=>{const t=z(a);if(t&&typeof t=="object"){const r=t,n=typeof r.total=="number"?r.total:e,i=typeof r.page=="number"?r.page:1,u=typeof r.limit=="number"?r.limit:e;return{total:n,page:i,limit:u}}return{total:e,page:1,limit:e}},es=a=>{const e={total:0,unresolved:0,critical:0,bySeverity:{LOW:0,MEDIUM:0,HIGH:0,CRITICAL:0},byType:{RESOURCE_OVERLAP:0,TIME_OVERLAP:0,LOCATION_OVERLAP:0,CAPACITY_EXCEEDED:0}},t=z(a);if(t&&typeof t=="object"){const r=t;e.total=typeof r.total=="number"?r.total:e.total,e.unresolved=typeof r.unresolved=="number"?r.unresolved:e.unresolved,e.critical=typeof r.critical=="number"?r.critical:e.critical,r.bySeverity&&typeof r.bySeverity=="object"&&(e.bySeverity={...e.bySeverity,...r.bySeverity}),r.byType&&typeof r.byType=="object"&&(e.byType={...e.byType,...r.byType})}return e},Wa={conflicts:[],currentConflict:null,filters:{search:"",conflictType:"ALL",severity:"ALL",resolved:"UNRESOLVED",simulationRunId:null},loading:!1,error:null,pagination:{total:0,page:1,limit:25},stats:{total:0,unresolved:0,critical:0,bySeverity:{LOW:0,MEDIUM:0,HIGH:0,CRITICAL:0},byType:{RESOURCE_OVERLAP:0,TIME_OVERLAP:0,LOCATION_OVERLAP:0,CAPACITY_EXCEEDED:0}}};const Ze=l("conflicts/fetchConflicts",async(a={},{rejectWithValue:e,getState:t})=>{try{const{filters:r}=t().conflicts,{page:n=1,limit:i=25,simulationRunId:u}=a,g={page:n,limit:i},m=u??r.simulationRunId??void 0;return m&&(g.simulationRunId=m),r.conflictType&&r.conflictType!=="ALL"&&(g.conflictType=r.conflictType),r.severity&&r.severity!=="ALL"&&(g.severity=r.severity),r.resolved&&r.resolved!=="ALL"&&(g.resolved=r.resolved),r.search.trim()&&(g.search=r.search.trim()),(await o.get("/conflicts",{params:g})).data}catch(r){return e(r.response?.data?.message||"Failed to fetch conflicts")}}),ea=l("conflicts/fetchConflictById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/conflicts/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch conflict")}}),aa=l("conflicts/createConflict",async(a,{rejectWithValue:e})=>{try{return(await o.post("/conflicts",a)).data}catch(t){return e(t.response?.data?.message||"Failed to create conflict")}}),ta=l("conflicts/updateConflict",async({id:a,data:e},{rejectWithValue:t})=>{try{return(await o.patch(`/conflicts/${a}`,e)).data}catch(r){return t(r.response?.data?.message||"Failed to update conflict")}}),ra=l("conflicts/resolveConflict",async({id:a,resolutionNotes:e},{rejectWithValue:t})=>{try{return(await o.patch(`/conflicts/${a}/resolve`,{resolutionNotes:e})).data}catch(r){return t(r.response?.data?.message||"Failed to resolve conflict")}}),sa=l("conflicts/deleteConflict",async(a,{rejectWithValue:e})=>{try{return await o.delete(`/conflicts/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete conflict")}}),na=l("conflicts/fetchConflictsBySeverity",async(a,{rejectWithValue:e})=>{try{return(await o.get("/conflicts",{params:{severity:a}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch conflicts by severity")}}),ia=l("conflicts/fetchUnresolvedConflicts",async(a,{rejectWithValue:e})=>{try{return(await o.get("/conflicts/unresolved")).data}catch(t){return e(t.response?.data?.message||"Failed to fetch unresolved conflicts")}}),oa=l("conflicts/fetchConflictStats",async(a=void 0,{rejectWithValue:e})=>{try{return(await o.get("/conflicts/stats",{params:{simulationRunId:a}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch conflict stats")}});var xt=L({name:"conflicts",initialState:Wa,reducers:{setFilters:(a,e)=>{a.filters={...a.filters,...e.payload}},resetFilters:a=>{a.filters=Wa.filters},setCurrentConflict:(a,e)=>{a.currentConflict=e.payload},clearCurrentConflict:a=>{a.currentConflict=null},clearError:a=>{a.error=null},addConflictRealtime:(a,e)=>{a.conflicts.unshift(e.payload),a.pagination.total+=1,a.stats.total+=1,a.stats.unresolved+=1,a.stats.bySeverity[e.payload.severity]+=1,a.stats.byType[e.payload.conflictType]+=1,e.payload.severity==="CRITICAL"&&(a.stats.critical+=1)},updateConflictRealtime:(a,e)=>{const t=a.conflicts.findIndex(r=>r.id===e.payload.id);if(t!==-1){const r=a.conflicts[t];r.resolved!==e.payload.resolved&&(e.payload.resolved?a.stats.unresolved-=1:a.stats.unresolved+=1),r.severity!==e.payload.severity&&(a.stats.bySeverity[r.severity]-=1,a.stats.bySeverity[e.payload.severity]+=1,r.severity==="CRITICAL"&&(a.stats.critical-=1),e.payload.severity==="CRITICAL"&&(a.stats.critical+=1)),a.conflicts[t]=e.payload}a.currentConflict?.id===e.payload.id&&(a.currentConflict=e.payload)},removeConflictRealtime:(a,e)=>{const t=a.conflicts.findIndex(r=>r.id===e.payload);if(t!==-1){const r=a.conflicts[t];a.stats.total-=1,r.resolved||(a.stats.unresolved-=1),a.stats.bySeverity[r.severity]-=1,a.stats.byType[r.conflictType]-=1,r.severity==="CRITICAL"&&(a.stats.critical-=1),a.conflicts.splice(t,1)}a.pagination.total=Math.max(0,a.pagination.total-1),a.currentConflict?.id===e.payload&&(a.currentConflict=null)}},extraReducers:a=>{a.addCase(Ze.pending,e=>{e.loading=!0,e.error=null}).addCase(Ze.fulfilled,(e,t)=>{e.loading=!1;const r=Xe(t.payload),n=Zr(t.payload,r.length);e.conflicts=r,e.pagination.total=n.total,e.pagination.page=n.page,e.pagination.limit=n.limit>0?n.limit:e.pagination.limit}).addCase(Ze.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ea.pending,e=>{e.loading=!0,e.error=null}).addCase(ea.fulfilled,(e,t)=>{e.loading=!1,e.currentConflict=z(t.payload)??null}).addCase(ea.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(aa.pending,e=>{e.loading=!0,e.error=null}).addCase(aa.fulfilled,(e,t)=>{e.loading=!1;const r=z(t.payload);e.conflicts.unshift(r),e.pagination.total+=1}).addCase(aa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ta.pending,e=>{e.loading=!0,e.error=null}).addCase(ta.fulfilled,(e,t)=>{e.loading=!1;const r=z(t.payload),n=e.conflicts.findIndex(i=>i.id===r.id);n!==-1&&(e.conflicts[n]=r),e.currentConflict?.id===r.id&&(e.currentConflict=r)}).addCase(ta.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ra.pending,e=>{e.loading=!0,e.error=null}).addCase(ra.fulfilled,(e,t)=>{e.loading=!1;const r=z(t.payload),n=e.conflicts.findIndex(i=>i.id===r.id);n!==-1&&(e.conflicts[n]=r),e.currentConflict?.id===r.id&&(e.currentConflict=r)}).addCase(ra.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(sa.pending,e=>{e.loading=!0,e.error=null}).addCase(sa.fulfilled,(e,t)=>{e.loading=!1,e.conflicts=e.conflicts.filter(r=>r.id!==t.payload),e.pagination.total=Math.max(0,e.pagination.total-1),e.currentConflict?.id===t.payload&&(e.currentConflict=null)}).addCase(sa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(na.pending,e=>{e.loading=!0,e.error=null}).addCase(na.fulfilled,(e,t)=>{e.loading=!1;const r=Xe(t.payload);e.conflicts=r,e.pagination.total=r.length}).addCase(na.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ia.pending,e=>{e.loading=!0,e.error=null}).addCase(ia.fulfilled,(e,t)=>{e.loading=!1;const r=Xe(t.payload);e.conflicts=r,e.pagination.total=r.length}).addCase(ia.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(oa.pending,e=>{e.loading=!0,e.error=null}).addCase(oa.fulfilled,(e,t)=>{e.loading=!1,e.stats=es(t.payload)}).addCase(oa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}});const{setFilters:yi,resetFilters:xi,setCurrentConflict:Si,clearCurrentConflict:vi,clearError:Ci,addConflictRealtime:ki,updateConflictRealtime:ji,removeConflictRealtime:Ti}=xt.actions;var as=xt.reducer,Ha={eventLogs:[],currentEventLog:null,filters:{search:"",eventType:"ALL",severity:"ALL",userId:null,entityType:null,dateRange:{start:null,end:null}},loading:!1,error:null,pagination:{total:0,page:1,limit:50},stats:{total:0,bySeverity:{INFO:0,WARNING:0,ERROR:0,CRITICAL:0},byEventType:{},recentErrors:0}};const la=l("eventLogs/fetchEventLogs",async(a={},{rejectWithValue:e})=>{try{const{page:t=1,limit:r=50,...n}=a;return(await o.get("/event-logs",{params:{page:t,limit:r,...n}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event logs")}}),da=l("eventLogs/fetchEventLogById",async(a,{rejectWithValue:e})=>{try{return(await o.get(`/event-logs/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event log")}}),ca=l("eventLogs/createEventLog",async(a,{rejectWithValue:e})=>{try{return(await o.post("/event-logs",a)).data}catch(t){return e(t.response?.data?.message||"Failed to create event log")}}),ua=l("eventLogs/deleteEventLog",async(a,{rejectWithValue:e})=>{try{return await o.delete(`/event-logs/${a}`),a}catch(t){return e(t.response?.data?.message||"Failed to delete event log")}}),pa=l("eventLogs/fetchEventLogsByType",async(a,{rejectWithValue:e})=>{try{return(await o.get("/event-logs",{params:{eventType:a}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event logs by type")}}),ha=l("eventLogs/fetchEventLogsBySeverity",async(a,{rejectWithValue:e})=>{try{return(await o.get("/event-logs",{params:{severity:a}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event logs by severity")}}),ga=l("eventLogs/fetchEventLogsByUser",async(a,{rejectWithValue:e})=>{try{return(await o.get("/event-logs",{params:{userId:a}})).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event logs by user")}}),fa=l("eventLogs/fetchRecentErrors",async(a,{rejectWithValue:e})=>{try{return(await o.get("/event-logs/recent-errors")).data}catch(t){return e(t.response?.data?.message||"Failed to fetch recent errors")}}),ma=l("eventLogs/fetchEventLogStats",async(a,{rejectWithValue:e})=>{try{return(await o.get("/event-logs/stats")).data}catch(t){return e(t.response?.data?.message||"Failed to fetch event log stats")}});var St=L({name:"eventLogs",initialState:Ha,reducers:{setFilters:(a,e)=>{a.filters={...a.filters,...e.payload}},resetFilters:a=>{a.filters=Ha.filters},setCurrentEventLog:(a,e)=>{a.currentEventLog=e.payload},clearCurrentEventLog:a=>{a.currentEventLog=null},clearError:a=>{a.error=null},addEventLogRealtime:(a,e)=>{a.eventLogs.unshift(e.payload),a.pagination.total+=1,a.stats.total+=1,a.stats.bySeverity[e.payload.severity]+=1;const t=e.payload.eventType;a.stats.byEventType[t]=(a.stats.byEventType[t]||0)+1,(e.payload.severity==="ERROR"||e.payload.severity==="CRITICAL")&&(a.stats.recentErrors+=1)},removeEventLogRealtime:(a,e)=>{const t=a.eventLogs.findIndex(r=>r.id===e.payload);if(t!==-1){const r=a.eventLogs[t];a.stats.total-=1,a.stats.bySeverity[r.severity]-=1;const n=r.eventType;a.stats.byEventType[n]&&(a.stats.byEventType[n]-=1),(r.severity==="ERROR"||r.severity==="CRITICAL")&&(a.stats.recentErrors=Math.max(0,a.stats.recentErrors-1)),a.eventLogs.splice(t,1)}a.pagination.total=Math.max(0,a.pagination.total-1),a.currentEventLog?.id===e.payload&&(a.currentEventLog=null)}},extraReducers:a=>{a.addCase(la.pending,e=>{e.loading=!0,e.error=null}).addCase(la.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=t.payload.data||t.payload,e.pagination.total=t.payload.total||t.payload.length,e.pagination.page=t.payload.page||1,e.pagination.limit=t.payload.limit||50}).addCase(la.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(da.pending,e=>{e.loading=!0,e.error=null}).addCase(da.fulfilled,(e,t)=>{e.loading=!1,e.currentEventLog=t.payload}).addCase(da.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ca.pending,e=>{e.loading=!0,e.error=null}).addCase(ca.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs.unshift(t.payload),e.pagination.total+=1}).addCase(ca.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ua.pending,e=>{e.loading=!0,e.error=null}).addCase(ua.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=e.eventLogs.filter(r=>r.id!==t.payload),e.pagination.total=Math.max(0,e.pagination.total-1),e.currentEventLog?.id===t.payload&&(e.currentEventLog=null)}).addCase(ua.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(pa.pending,e=>{e.loading=!0,e.error=null}).addCase(pa.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=t.payload}).addCase(pa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ha.pending,e=>{e.loading=!0,e.error=null}).addCase(ha.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=t.payload}).addCase(ha.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ga.pending,e=>{e.loading=!0,e.error=null}).addCase(ga.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=t.payload}).addCase(ga.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(fa.pending,e=>{e.loading=!0,e.error=null}).addCase(fa.fulfilled,(e,t)=>{e.loading=!1,e.eventLogs=t.payload}).addCase(fa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(ma.pending,e=>{e.loading=!0,e.error=null}).addCase(ma.fulfilled,(e,t)=>{e.loading=!1,e.stats=t.payload}).addCase(ma.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}});const{setFilters:Ii,resetFilters:Ai,setCurrentEventLog:Ei,clearCurrentEventLog:bi,clearError:_i,addEventLogRealtime:wi,removeEventLogRealtime:Li}=St.actions;var ts=St.reducer;const rs={runSimulation:async a=>(await o.post("/simulation/run",a)).data.data,getSimulation:async a=>(await o.get(`/simulation/${a}`)).data.data,applySimulation:async a=>(await o.post(`/simulation/${a}/apply`)).data,deleteSimulation:async a=>{await o.delete(`/simulation/${a}`)},listSimulations:async(a=10)=>(await o.get("/simulation",{params:{limit:a}})).data.data||[]};var Z=rs;let ya=(function(a){return a.SHIP_DELAY="SHIP_DELAY",a.ASSET_MAINTENANCE="ASSET_MAINTENANCE",a.CUSTOM="CUSTOM",a})({}),U=(function(a){return a.PENDING="PENDING",a.RUNNING="RUNNING",a.COMPLETED="COMPLETED",a.FAILED="FAILED",a})({}),te=(function(a){return a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH",a.CRITICAL="CRITICAL",a})({});const Ri={[ya.SHIP_DELAY]:"Ship Delay",[ya.ASSET_MAINTENANCE]:"Asset Maintenance",[ya.CUSTOM]:"Custom Scenario"},Ni={[te.LOW]:"#4caf50",[te.MEDIUM]:"#ff9800",[te.HIGH]:"#f44336",[te.CRITICAL]:"#d32f2f"},Di={[U.PENDING]:"#9e9e9e",[U.RUNNING]:"#2196f3",[U.COMPLETED]:"#4caf50",[U.FAILED]:"#f44336"};var ss={currentSimulation:null,recentSimulations:[],loading:!1,applying:!1,error:null,progress:{status:null,message:null}};const xa=l("simulation/run",async(a,{rejectWithValue:e})=>{try{return await Z.runSimulation(a)}catch(t){return e(t.response?.data?.message||"Failed to run simulation")}}),Sa=l("simulation/fetchResult",async(a,{rejectWithValue:e})=>{try{return await Z.getSimulation(a)}catch(t){return e(t.response?.data?.message||"Failed to fetch simulation")}}),va=l("simulation/apply",async(a,{rejectWithValue:e})=>{try{return await Z.applySimulation(a),a}catch(t){return e(t.response?.data?.message||"Failed to apply simulation")}}),ns=l("simulation/delete",async(a,{rejectWithValue:e})=>{try{return await Z.deleteSimulation(a),a}catch(t){return e(t.response?.data?.message||"Failed to delete simulation")}}),is=l("simulation/fetchRecent",async(a=10,{rejectWithValue:e})=>{try{return await Z.listSimulations(a)}catch(t){return e(t.response?.data?.message||"Failed to fetch recent simulations")}});var vt=L({name:"simulation",initialState:ss,reducers:{clearCurrentSimulation:a=>{a.currentSimulation=null,a.error=null},clearError:a=>{a.error=null},updateProgress:(a,e)=>{a.progress=e.payload},resetProgress:a=>{a.progress={status:null,message:null}},addToRecentSimulations:(a,e)=>{a.recentSimulations=[e.payload,...a.recentSimulations.slice(0,9)]}},extraReducers:a=>{a.addCase(xa.pending,e=>{e.loading=!0,e.error=null,e.progress={status:U.PENDING,message:"Starting simulation..."}}).addCase(xa.fulfilled,(e,t)=>{e.loading=!1,e.currentSimulation=t.payload,e.progress={status:U.COMPLETED,message:"Simulation completed"},e.recentSimulations=[t.payload,...e.recentSimulations.slice(0,9)]}).addCase(xa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.progress={status:U.FAILED,message:t.payload}}),a.addCase(Sa.pending,e=>{e.loading=!0,e.error=null}).addCase(Sa.fulfilled,(e,t)=>{e.loading=!1,e.currentSimulation=t.payload}).addCase(Sa.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}),a.addCase(va.pending,e=>{e.applying=!0,e.error=null}).addCase(va.fulfilled,e=>{e.applying=!1,e.currentSimulation=null}).addCase(va.rejected,(e,t)=>{e.applying=!1,e.error=t.payload}),a.addCase(ns.fulfilled,(e,t)=>{const r=t.payload;e.recentSimulations=e.recentSimulations.filter(n=>n.id!==r),e.currentSimulation?.id===r&&(e.currentSimulation=null)}),a.addCase(is.fulfilled,(e,t)=>{e.recentSimulations=t.payload})}});const{clearCurrentSimulation:Oi,clearError:Pi,updateProgress:Vi,resetProgress:Mi,addToRecentSimulations:Fi}=vt.actions,zi=a=>a.simulation.currentSimulation,Ui=a=>a.simulation.recentSimulations,Bi=a=>a.simulation.loading,$i=a=>a.simulation.applying,Wi=a=>a.simulation.error;var os=vt.reducer,ls={messages:[],isTyping:!1,isConnected:!0,error:null,currentContext:void 0},ge="/chatbot";const Ca=l("chatbot/sendMessage",async(a,{getState:e,rejectWithValue:t})=>{try{const r=e().chatbot.currentContext;console.log("ðŸ“¤ Sending message:",{message:a,context:r});const n=await o.post(`${ge}/chat`,{message:a,context:r});return console.log("ðŸ“¥ Received response:",n.data),n.data}catch(r){return console.error("âŒ Send message error:",r),t(r.response?.data?.message||"Failed to send message")}}),ka=l("chatbot/runWhatIfScenario",async(a,{rejectWithValue:e})=>{try{return(await o.post(`${ge}/what-if`,a)).data}catch(t){return e(t.response?.data?.message||"Failed to run what-if scenario")}}),ds=l("chatbot/detectConflicts",async(a,{rejectWithValue:e})=>{try{return(await o.get(`${ge}/detect-conflicts`)).data}catch(t){return e(t.response?.data?.message||"Failed to detect conflicts")}}),cs=l("chatbot/getOptimizationSuggestions",async(a,{rejectWithValue:e})=>{try{return(await o.get(`${ge}/optimize/${a}`)).data}catch(t){return e(t.response?.data?.message||"Failed to get optimization suggestions")}});var Ct=L({name:"chatbot",initialState:ls,reducers:{addUserMessage:(a,e)=>{const t={id:`user-${Date.now()}`,role:"user",content:e.payload,timestamp:new Date().toISOString()};a.messages.push(t)},addAssistantMessage:(a,e)=>{const t={id:`assistant-${Date.now()}`,role:"assistant",content:e.payload.content,timestamp:new Date().toISOString(),intent:e.payload.intent,metadata:e.payload.metadata};a.messages.push(t)},setTyping:(a,e)=>{a.isTyping=e.payload},setConnected:(a,e)=>{a.isConnected=e.payload},clearMessages:a=>{a.messages=[],a.currentContext=void 0},clearError:a=>{a.error=null},updateContext:(a,e)=>{a.currentContext={...a.currentContext,...e.payload}}},extraReducers:a=>{a.addCase(Ca.pending,e=>{e.isTyping=!0,e.error=null}),a.addCase(Ca.fulfilled,(e,t)=>{e.isTyping=!1,console.log("ðŸ“¨ Chatbot response:",t.payload);const r=t.payload?.message||t.payload?.content||"I received your message but couldn't generate a response.",n={id:`assistant-${Date.now()}`,role:"assistant",content:r,timestamp:new Date().toISOString(),intent:t.payload?.intent||"general_query",metadata:{suggestions:t.payload?.suggestions,...t.payload?.data}};e.messages.push(n),t.payload.intent&&(e.currentContext={...e.currentContext,lastIntent:t.payload.intent})}),a.addCase(Ca.rejected,(e,t)=>{e.isTyping=!1,e.error=t.payload;const r={id:`error-${Date.now()}`,role:"assistant",content:`Sorry, I encountered an error: ${t.payload}`,timestamp:new Date().toISOString()};e.messages.push(r)}),a.addCase(ka.pending,e=>{e.isTyping=!0,e.error=null}),a.addCase(ka.fulfilled,(e,t)=>{e.isTyping=!1;const r={id:`assistant-${Date.now()}`,role:"assistant",content:t.payload.message,timestamp:new Date().toISOString(),intent:t.payload.intent,metadata:{suggestions:t.payload.suggestions,...t.payload.data}};e.messages.push(r)}),a.addCase(ka.rejected,(e,t)=>{e.isTyping=!1,e.error=t.payload;const r={id:`error-${Date.now()}`,role:"assistant",content:`Failed to run scenario: ${t.payload}`,timestamp:new Date().toISOString()};e.messages.push(r)}),a.addCase(ds.fulfilled,(e,t)=>{const r={id:`assistant-${Date.now()}`,role:"assistant",content:t.payload.message,timestamp:new Date().toISOString(),intent:t.payload.intent,metadata:{suggestions:t.payload.suggestions,...t.payload.data}};e.messages.push(r)}),a.addCase(cs.fulfilled,(e,t)=>{const r={id:`assistant-${Date.now()}`,role:"assistant",content:t.payload.message,timestamp:new Date().toISOString(),intent:t.payload.intent,metadata:{suggestions:t.payload.suggestions,...t.payload.data}};e.messages.push(r)})}});const{addUserMessage:Hi,addAssistantMessage:Gi,setTyping:Yi,setConnected:Ki,clearMessages:qi,clearError:Qi,updateContext:Ji}=Ct.actions,Xi=a=>a.chatbot.messages,Zi=a=>a.chatbot.isTyping,eo=a=>a.chatbot.isConnected;var us=Ct.reducer;const ps=wt({reducer:{auth:Er,kpi:Lr,shipVisits:zr,schedules:Kr,tasks:Jr,assets:Xr,conflicts:as,eventLogs:ts,simulation:os,chatbot:us},middleware:a=>a({serializableCheck:{ignoredActions:["auth/login/fulfilled","auth/register/fulfilled"],ignoredPaths:["schedules.selectedDate","schedules.filters.dateRange.start","schedules.filters.dateRange.end","tasks.filters.dateRange.start","tasks.filters.dateRange.end"]}}),devTools:!1});var hs="#1976d2",gs="#dc004e",fs="#2e7d32",ms="#ed6c02",ys="#d32f2f",xs="#0288d1",Ss={values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},vs={fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h1:{fontSize:"2.5rem",fontWeight:600,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43},button:{textTransform:"none",fontWeight:500}},Cs={mode:"light",primary:{main:hs,light:w[300],dark:w[700],contrastText:"#fff"},secondary:{main:gs,light:_[300],dark:_[700],contrastText:"#fff"},success:{main:fs,light:K[300],dark:K[700],contrastText:"#fff"},warning:{main:ms,light:Y[300],dark:Y[700],contrastText:"#fff"},error:{main:ys,light:_[300],dark:_[700],contrastText:"#fff"},info:{main:xs,light:w[200],dark:w[800],contrastText:"#fff"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)"},ks={mode:"dark",primary:{main:w[400],light:w[300],dark:w[700],contrastText:"#fff"},secondary:{main:_[400],light:_[300],dark:_[700],contrastText:"#fff"},success:{main:K[400],light:K[300],dark:K[700],contrastText:"#000"},warning:{main:Y[400],light:Y[300],dark:Y[700],contrastText:"#000"},error:{main:_[400],light:_[300],dark:_[700],contrastText:"#fff"},info:{main:w[300],light:w[200],dark:w[800],contrastText:"#000"},background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"#fff",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)"},js={MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 16px",minHeight:44},contained:{boxShadow:"none","&:hover":{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}},defaultProps:{disableElevation:!0}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}},MuiPaper:{styleOverrides:{root:{borderRadius:8}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiChip:{styleOverrides:{root:{borderRadius:8}}},MuiIconButton:{styleOverrides:{root:{minWidth:44,minHeight:44}}},MuiTableCell:{styleOverrides:{root:{padding:"12px 16px"},head:{fontWeight:600}}},MuiDialog:{styleOverrides:{paper:{borderRadius:12}}},MuiTooltip:{styleOverrides:{tooltip:{fontSize:"0.875rem",borderRadius:4}}}},Ts={borderRadius:8},Is=8;const Ra=a=>sr({palette:a==="light"?Cs:ks,typography:vs,breakpoints:Ss,components:js,shape:Ts,spacing:Is}),ao=Ra("light"),to=Ra("dark");var s=_a(gr()),kt=(0,c.createContext)(void 0);const As=()=>{const a=(0,c.useContext)(kt);if(!a)throw new Error("useThemeMode must be used within ThemeModeProvider");return a},Es=({children:a})=>{const e=()=>localStorage.getItem("themeMode")==="dark"?"dark":"light",[t,r]=(0,c.useState)(e),n=g=>{r(g),localStorage.setItem("themeMode",g)},i=()=>{r(g=>{const m=g==="light"?"dark":"light";return localStorage.setItem("themeMode",m),m})},u=c.useMemo(()=>Ra(t),[t]);return(0,s.jsx)(kt.Provider,{value:{mode:t,setMode:n,toggleTheme:i},children:(0,s.jsxs)(or,{theme:u,children:[(0,s.jsx)(Za,{}),a]})})};var bs=class extends c.Component{constructor(a){super(a),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,e){console.error("ErrorBoundary caught an error:",a,e),this.setState({errorInfo:e})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:3},children:(0,s.jsxs)(E,{sx:{p:4,maxWidth:600,textAlign:"center"},children:[(0,s.jsx)(it,{sx:{fontSize:64,color:"error.main",mb:2}}),(0,s.jsx)(k,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Oops! Something went wrong"}),(0,s.jsx)(k,{variant:"body1",color:"text.secondary",sx:{mb:3},children:this.state.error?.message||"An unexpected error occurred"}),!1,(0,s.jsxs)(p,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,s.jsx)(Pa,{variant:"contained",onClick:this.handleReset,children:"Try Again"}),(0,s.jsx)(Pa,{variant:"outlined",onClick:()=>window.location.href="/",children:"Go Home"})]})]})}):this.props.children}},_s=bs,ws=(0,c.createContext)(void 0);const Ls=({children:a})=>{const[e,t]=(0,c.useState)([]),r=(0,c.useCallback)((d,h="info",y=5e3)=>{const P=Date.now();t(D=>[...D,{id:P,message:d,severity:h,duration:y}])},[]),n=(0,c.useCallback)(d=>{r(d,"success",4e3)},[r]),i=(0,c.useCallback)(d=>{r(d,"error",6e3)},[r]),u=(0,c.useCallback)(d=>{r(d,"warning",5e3)},[r]),g=(0,c.useCallback)(d=>{r(d,"info",4e3)},[r]),m=d=>{t(h=>h.filter(y=>y.id!==d))};return(0,s.jsxs)(ws.Provider,{value:{showToast:r,showSuccess:n,showError:i,showWarning:u,showInfo:g},children:[a,e.map((d,h)=>(0,s.jsx)(cr,{open:!0,autoHideDuration:d.duration,onClose:()=>m(d.id),anchorOrigin:{vertical:"top",horizontal:"right"},sx:{mt:h*8},children:(0,s.jsx)(tt,{onClose:()=>m(d.id),severity:d.severity,variant:"filled",sx:{width:"100%",minWidth:300},children:d.message})},d.id))]})};var Rs=Ls,Ns=()=>{const[a,e]=(0,c.useState)(navigator.onLine),[t,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{const i=()=>{e(!0),r(!1)},u=()=>{e(!1),r(!1)};return window.addEventListener("online",i),window.addEventListener("offline",u),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",u)}},[]);const n=()=>{r(!0)};return(0,s.jsx)(dr,{in:!a&&!t,children:(0,s.jsx)(tt,{severity:"warning",icon:(0,s.jsx)(Wt,{}),action:(0,s.jsx)(O,{"aria-label":"Close offline banner",color:"inherit",size:"small",onClick:n,children:(0,s.jsx)(at,{fontSize:"inherit"})}),sx:{borderRadius:0,position:"sticky",top:0,zIndex:i=>i.zIndex.appBar+1},children:"You are currently offline. Some features may not be available."})})},Ds=Ns;function M(){return(0,s.jsx)(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:(0,s.jsx)(et,{size:60,thickness:4})})}function Os(){return(0,s.jsx)(J,{maxWidth:"xl",sx:{py:4},children:(0,s.jsxs)(pe,{spacing:3,children:[(0,s.jsx)(p,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"repeat(4, 1fr)"},gap:2},children:[1,2,3,4].map(a=>(0,s.jsxs)(E,{elevation:2,sx:{p:2,height:120},children:[(0,s.jsx)(f,{variant:"text",width:"60%",height:24}),(0,s.jsx)(f,{variant:"text",width:"40%",height:40,sx:{my:1}}),(0,s.jsx)(f,{variant:"text",width:"50%",height:20})]},a))}),(0,s.jsxs)(p,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 1fr"},gap:2},children:[(0,s.jsxs)(E,{elevation:2,sx:{p:3,height:400},children:[(0,s.jsx)(f,{variant:"text",width:"40%",height:32,sx:{mb:2}}),(0,s.jsx)(f,{variant:"rectangular",height:320})]}),(0,s.jsxs)(E,{elevation:2,sx:{p:3,height:400},children:[(0,s.jsx)(f,{variant:"text",width:"50%",height:32,sx:{mb:2}}),(0,s.jsx)(f,{variant:"circular",width:250,height:250,sx:{mx:"auto"}})]})]}),(0,s.jsxs)(E,{elevation:2,sx:{p:3},children:[(0,s.jsx)(f,{variant:"text",width:"30%",height:32,sx:{mb:2}}),[1,2,3,4,5].map(a=>(0,s.jsx)(f,{variant:"rectangular",height:60,sx:{mb:1}},a))]})]})})}function $(){return(0,s.jsx)(J,{maxWidth:"xl",sx:{py:4},children:(0,s.jsxs)(pe,{spacing:3,children:[(0,s.jsxs)(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(f,{variant:"text",width:200,height:40}),(0,s.jsx)(f,{variant:"rectangular",width:120,height:40})]}),(0,s.jsx)(E,{elevation:2,sx:{p:2},children:(0,s.jsxs)(p,{sx:{display:"flex",gap:2},children:[(0,s.jsx)(f,{variant:"rectangular",width:"25%",height:56}),(0,s.jsx)(f,{variant:"rectangular",width:"25%",height:56}),(0,s.jsx)(f,{variant:"rectangular",width:"25%",height:56}),(0,s.jsx)(f,{variant:"rectangular",width:"25%",height:56})]})}),(0,s.jsx)(E,{elevation:2,sx:{p:2},children:[1,2,3,4,5,6,7,8].map(a=>(0,s.jsxs)(p,{sx:{display:"flex",gap:2,mb:2,p:2,borderBottom:"1px solid #eee"},children:[(0,s.jsx)(f,{variant:"rectangular",width:60,height:60}),(0,s.jsxs)(p,{sx:{flex:1},children:[(0,s.jsx)(f,{variant:"text",width:"40%",height:24}),(0,s.jsx)(f,{variant:"text",width:"60%",height:20}),(0,s.jsx)(f,{variant:"text",width:"30%",height:20})]}),(0,s.jsx)(f,{variant:"rectangular",width:80,height:32})]},a))})]})})}function Ga(){return(0,s.jsx)(J,{maxWidth:"md",sx:{py:4},children:(0,s.jsxs)(E,{elevation:2,sx:{p:4},children:[(0,s.jsx)(f,{variant:"text",width:"50%",height:40,sx:{mb:4}}),(0,s.jsx)(pe,{spacing:3,children:[1,2,3,4,5,6].map(a=>(0,s.jsxs)(p,{children:[(0,s.jsx)(f,{variant:"text",width:"30%",height:20,sx:{mb:1}}),(0,s.jsx)(f,{variant:"rectangular",width:"100%",height:56})]},a))}),(0,s.jsxs)(p,{sx:{display:"flex",gap:2,justifyContent:"flex-end",mt:4},children:[(0,s.jsx)(f,{variant:"rectangular",width:100,height:40}),(0,s.jsx)(f,{variant:"rectangular",width:100,height:40})]})]})})}function Ps(){return(0,s.jsx)(J,{maxWidth:"lg",sx:{py:4},children:(0,s.jsxs)(pe,{spacing:3,children:[(0,s.jsxs)(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(p,{children:[(0,s.jsx)(f,{variant:"text",width:300,height:40}),(0,s.jsx)(f,{variant:"text",width:200,height:24})]}),(0,s.jsx)(f,{variant:"rectangular",width:120,height:40})]}),(0,s.jsxs)(p,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 1fr"},gap:2},children:[(0,s.jsxs)(E,{elevation:2,sx:{p:3},children:[(0,s.jsx)(f,{variant:"text",width:"40%",height:32,sx:{mb:2}}),[1,2,3,4,5,6].map(a=>(0,s.jsxs)(p,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,s.jsx)(f,{variant:"text",width:"30%",height:24}),(0,s.jsx)(f,{variant:"text",width:"50%",height:24})]},a))]}),(0,s.jsxs)(E,{elevation:2,sx:{p:3},children:[(0,s.jsx)(f,{variant:"text",width:"60%",height:32,sx:{mb:2}}),(0,s.jsx)(f,{variant:"rectangular",height:200})]})]}),(0,s.jsxs)(E,{elevation:2,sx:{p:3},children:[(0,s.jsx)(f,{variant:"text",width:"30%",height:32,sx:{mb:2}}),[1,2,3,4].map(a=>(0,s.jsxs)(p,{sx:{display:"flex",gap:2,mb:2},children:[(0,s.jsx)(f,{variant:"circular",width:40,height:40}),(0,s.jsxs)(p,{sx:{flex:1},children:[(0,s.jsx)(f,{variant:"text",width:"40%",height:20}),(0,s.jsx)(f,{variant:"text",width:"80%",height:20})]})]},a))]})]})})}const Vs=Rt.withTypes(),q=_t.withTypes();function Ms({anchorEl:a,open:e,onClose:t}){const r=Qa(),n=Vs(),i=q(ut),u=()=>{r("/profile"),t()},g=()=>{r("/settings"),t()},m=async()=>{await n(se()),t(),window.location.href="/login"};return i?(0,s.jsxs)(lt,{anchorEl:a,open:e,onClose:t,onClick:t,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:3,sx:{mt:1.5,minWidth:240,borderRadius:2,overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.1))","&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},children:[(0,s.jsxs)(p,{sx:{px:2,py:1.5},children:[(0,s.jsxs)(p,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,s.jsx)(La,{alt:i.fullName,src:i.avatarUrl,sx:{width:40,height:40,bgcolor:"primary.main"},children:i.fullName.charAt(0)}),(0,s.jsxs)(p,{sx:{flex:1,minWidth:0},children:[(0,s.jsx)(k,{variant:"subtitle2",fontWeight:600,noWrap:!0,children:i.fullName}),(0,s.jsx)(k,{variant:"caption",color:"text.secondary",noWrap:!0,children:i.email})]})]}),(0,s.jsx)(k,{variant:"caption",sx:{mt:1,px:1,py:.5,display:"inline-block",bgcolor:"primary.main",color:"white",borderRadius:1,fontWeight:600},children:i.role})]}),(0,s.jsx)(Q,{}),(0,s.jsxs)(me,{onClick:u,sx:{py:1.5},children:[(0,s.jsx)(H,{children:(0,s.jsx)(dt,{fontSize:"small"})}),(0,s.jsx)(G,{children:"My Profile"})]}),(0,s.jsxs)(me,{onClick:g,sx:{py:1.5},children:[(0,s.jsx)(H,{children:(0,s.jsx)(st,{fontSize:"small"})}),(0,s.jsx)(G,{children:"Settings"})]}),(0,s.jsx)(Q,{}),(0,s.jsxs)(me,{onClick:m,sx:{py:1.5,color:"error.main"},children:[(0,s.jsx)(H,{children:(0,s.jsx)(ir,{fontSize:"small",color:"error"})}),(0,s.jsx)(G,{children:"Logout"})]})]}):null}var Fs=[{id:"1",type:"warning",title:"Conflict Detected",message:"Crane A1 assigned to multiple tasks at 14:00",timestamp:new Date(Date.now()-300*1e3),read:!1},{id:"2",type:"success",title:"Ship Arrived",message:"MSC Oscar arrived at Berth A1",timestamp:new Date(Date.now()-1800*1e3),read:!1},{id:"3",type:"info",title:"Task Completed",message:"Container unloading completed for Ever Given",timestamp:new Date(Date.now()-7200*1e3),read:!0}],zs=a=>{switch(a){case"success":return(0,s.jsx)(ot,{color:"success",fontSize:"small"});case"error":return(0,s.jsx)(it,{color:"error",fontSize:"small"});case"warning":return(0,s.jsx)(Xa,{color:"warning",fontSize:"small"});case"info":return(0,s.jsx)(Oa,{color:"info",fontSize:"small"});default:return(0,s.jsx)(Oa,{color:"info",fontSize:"small"})}},Ya=a=>{switch(a){case"success":return"success.light";case"error":return"error.light";case"warning":return"warning.light";case"info":return"info.light";default:return"grey.200"}};function Us({anchorEl:a,open:e,onClose:t}){const[r,n]=c.useState(Fs),i=r.filter(d=>!d.read).length,u=d=>{n(h=>h.map(y=>y.id===d?{...y,read:!0}:y))},g=()=>{n(d=>d.map(h=>({...h,read:!0})))},m=d=>{n(h=>h.filter(y=>y.id!==d))};return(0,s.jsxs)(lt,{anchorEl:a,open:e,onClose:t,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:3,sx:{mt:1.5,width:380,maxHeight:500,borderRadius:2,overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.1))","&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},children:[(0,s.jsxs)(p,{sx:{px:2,py:1.5,display:"flex",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,bgcolor:"background.paper",zIndex:1},children:[(0,s.jsxs)(k,{variant:"h6",fontWeight:600,children:["Notifications",i>0&&(0,s.jsx)(rt,{label:i,size:"small",color:"primary",sx:{ml:1,height:20,fontSize:"0.75rem"}})]}),i>0&&(0,s.jsx)(O,{size:"small",onClick:g,children:(0,s.jsx)(Bt,{fontSize:"small"})})]}),(0,s.jsx)(Q,{}),(0,s.jsx)(p,{sx:{maxHeight:400,overflow:"auto"},children:r.length===0?(0,s.jsx)(p,{sx:{p:4,textAlign:"center"},children:(0,s.jsx)(k,{variant:"body2",color:"text.secondary",children:"No notifications"})}):r.map(d=>(0,s.jsx)(p,{sx:{px:2,py:1.5,bgcolor:d.read?"transparent":"action.hover",borderLeft:d.read?"none":"3px solid",borderColor:Ya(d.type),"&:hover":{bgcolor:"action.hover"}},children:(0,s.jsxs)(p,{sx:{display:"flex",gap:1.5,alignItems:"flex-start"},children:[(0,s.jsx)(La,{sx:{width:36,height:36,bgcolor:Ya(d.type)},children:zs(d.type)}),(0,s.jsxs)(p,{sx:{flex:1,minWidth:0},children:[(0,s.jsx)(k,{variant:"subtitle2",fontWeight:600,noWrap:!0,children:d.title}),(0,s.jsx)(k,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:d.message}),(0,s.jsx)(k,{variant:"caption",color:"text.disabled",sx:{mt:.5,display:"block"},children:Mt(d.timestamp,{addSuffix:!0})})]}),(0,s.jsxs)(p,{sx:{display:"flex",gap:.5},children:[!d.read&&(0,s.jsx)(O,{size:"small",onClick:()=>u(d.id),sx:{opacity:.7},children:(0,s.jsx)(ot,{fontSize:"small"})}),(0,s.jsx)(O,{size:"small",onClick:()=>m(d.id),sx:{opacity:.7},children:(0,s.jsx)(at,{fontSize:"small"})})]})]})},d.id))}),(0,s.jsx)(Q,{}),(0,s.jsx)(p,{sx:{p:1,textAlign:"center"},children:(0,s.jsx)(k,{variant:"caption",color:"primary",sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:t,children:"View All Notifications"})})]})}function Bs({onSidebarToggle:a,drawerWidth:e,sidebarOpen:t,isMobile:r}){const n=he(),{mode:i,toggleTheme:u}=As(),g=q(ut),[m,d]=(0,c.useState)(null),[h,y]=(0,c.useState)(null),[P,D]=(0,c.useState)(""),jt=V=>{d(V.currentTarget)},Tt=()=>{d(null)},It=V=>{y(V.currentTarget)},At=()=>{y(null)},Et=V=>{V.preventDefault(),P.trim()&&console.log("Search for:",P)};return(0,s.jsx)(nr,{position:"fixed",elevation:0,component:"header",role:"banner",sx:{zIndex:n.zIndex.drawer+1,width:{xs:"100%",md:t&&!r?`calc(100% - ${e}px)`:"100%"},ml:{md:t&&!r?`${e}px`:0},background:n.palette.mode==="light"?"linear-gradient(135deg, #0A2463 0%, #1E88E5 100%)":n.palette.background.paper,borderBottom:`1px solid ${n.palette.divider}`,backdropFilter:"blur(8px)"},children:(0,s.jsxs)(Zt,{children:[(0,s.jsx)(O,{color:"inherit","aria-label":"toggle sidebar",edge:"start",onClick:a,sx:{mr:2},children:(0,s.jsx)($t,{})}),(0,s.jsxs)(p,{sx:{display:"flex",alignItems:"center",gap:1,mr:4},children:[(0,s.jsx)(nt,{sx:{fontSize:28}}),(0,s.jsxs)(p,{children:[(0,s.jsx)(k,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:700,letterSpacing:"-0.5px"},children:"PortLink"}),(0,s.jsx)(k,{variant:"caption",sx:{display:{xs:"none",sm:"block"},opacity:.8,fontSize:"0.65rem",lineHeight:1,mt:-.5},children:"Orchestrator"})]})]}),(0,s.jsxs)(p,{component:"form",onSubmit:Et,role:"search","aria-label":"Search",sx:{position:"relative",borderRadius:2,backgroundColor:fe(n.palette.common.white,.15),"&:hover":{backgroundColor:fe(n.palette.common.white,.25)},mr:2,ml:{xs:0,sm:3},width:{xs:"100%",sm:"auto"},flexGrow:{xs:0,md:1},maxWidth:{md:600}},children:[(0,s.jsx)(p,{sx:{padding:n.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(ur,{})}),(0,s.jsx)(lr,{placeholder:"Search ships, tasks, assets...",value:P,onChange:V=>D(V.target.value),inputProps:{"aria-label":"Search ships, tasks, assets",role:"searchbox"},sx:{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:`calc(1em + ${n.spacing(4)})`,transition:n.transitions.create("width"),width:{xs:"100%",md:"300px"},"&:focus":{width:{md:"400px"}}}}})]}),(0,s.jsx)(p,{sx:{flexGrow:1}}),(0,s.jsxs)(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(ye,{title:i==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:(0,s.jsx)(O,{color:"inherit",onClick:u,"aria-label":i==="light"?"Switch to Dark Mode":"Switch to Light Mode",children:i==="light"?(0,s.jsx)(Yt,{}):(0,s.jsx)(Ut,{})})}),(0,s.jsx)(ye,{title:"Notifications",children:(0,s.jsx)(O,{color:"inherit",onClick:It,"aria-label":"Open notifications","aria-haspopup":"true",children:(0,s.jsx)(rr,{badgeContent:3,color:"error",children:(0,s.jsx)(zt,{})})})}),(0,s.jsx)(ye,{title:"Account settings",children:(0,s.jsx)(O,{onClick:jt,sx:{p:.5},"aria-label":"Open user menu","aria-haspopup":"true",children:(0,s.jsx)(La,{alt:g?.username||"User",src:g?.avatarUrl,sx:{width:36,height:36,bgcolor:"secondary.main",border:"2px solid",borderColor:fe(n.palette.common.white,.3)},children:g?.fullName?.charAt(0)||"U"})})})]}),(0,s.jsx)(Ms,{anchorEl:m,open:!!m,onClose:Tt}),(0,s.jsx)(Us,{anchorEl:h,open:!!h,onClose:At})]})})}var $s=[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:(0,s.jsx)(hr,{})},{id:"ship-visits",label:"Ship Visits",path:"/ship-visits",icon:(0,s.jsx)(nt,{}),badge:8,color:"primary"},{id:"schedules",label:"Schedules",path:"/schedules",icon:(0,s.jsx)(fr,{})},{id:"tasks",label:"Tasks",path:"/tasks",icon:(0,s.jsx)(Gt,{}),badge:12,color:"info"},{id:"assets",label:"Assets",path:"/assets",icon:(0,s.jsx)(er,{})},{id:"conflicts",label:"Conflicts",path:"/conflicts",icon:(0,s.jsx)(Xa,{}),badge:3,color:"error"},{id:"simulation",label:"Simulation",path:"/simulation",icon:(0,s.jsx)(tr,{})},{id:"port-map",label:"Port Map",path:"/port-map",icon:(0,s.jsx)(qt,{}),color:"success"},{id:"event-logs",label:"Event Logs",path:"/event-logs",icon:(0,s.jsx)(ar,{})},{id:"chatbot",label:"AI Assistant",path:"/chatbot",icon:(0,s.jsx)(pr,{}),color:"secondary"}],Ws=[{id:"profile",label:"Profile",path:"/profile",icon:(0,s.jsx)(dt,{})},{id:"settings",label:"Settings",path:"/settings",icon:(0,s.jsx)(st,{})}];function Hs({open:a,onClose:e,drawerWidth:t,isMobile:r}){const n=Qa(),i=wa(),u=he(),g=h=>{n(h),r&&e()},m=h=>h==="/dashboard"?i.pathname==="/"||i.pathname==="/dashboard":i.pathname.startsWith(h),d=(0,s.jsxs)(p,{sx:{height:"100%",display:"flex",flexDirection:"column"},component:"nav",role:"navigation","aria-label":"Main navigation",children:[(0,s.jsx)(p,{sx:{height:64}}),(0,s.jsx)(p,{sx:{px:2,py:1},children:(0,s.jsx)(k,{variant:"caption",sx:{px:2,py:1,display:"block",color:"text.secondary",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Main Menu"})}),(0,s.jsx)(Na,{sx:{px:1,flexGrow:1},children:$s.map(h=>{const y=m(h.path);return(0,s.jsx)(Va,{disablePadding:!0,sx:{mb:.5},children:(0,s.jsxs)(Da,{onClick:()=>g(h.path),selected:y,"aria-current":y?"page":void 0,sx:{borderRadius:2,mx:1,"&.Mui-selected":{backgroundColor:u.palette.mode==="light"?"rgba(30, 136, 229, 0.1)":"rgba(30, 136, 229, 0.15)","&:hover":{backgroundColor:u.palette.mode==="light"?"rgba(30, 136, 229, 0.15)":"rgba(30, 136, 229, 0.2)"},"& .MuiListItemIcon-root":{color:"primary.main"},"& .MuiListItemText-primary":{fontWeight:600,color:"primary.main"}},"&:hover":{backgroundColor:u.palette.mode==="light"?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"}},children:[(0,s.jsx)(H,{sx:{minWidth:40,color:y?"primary.main":"text.secondary"},children:h.icon}),(0,s.jsx)(G,{primary:h.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:y?600:400}}),h.badge!==void 0&&h.badge>0&&(0,s.jsx)(rt,{label:h.badge,size:"small",color:h.color||"default",sx:{height:20,fontSize:"0.75rem",fontWeight:600}})]})},h.id)})}),(0,s.jsx)(Q,{sx:{my:1}}),(0,s.jsx)(Na,{sx:{px:1,pb:2},children:Ws.map(h=>{const y=m(h.path);return(0,s.jsx)(Va,{disablePadding:!0,sx:{mb:.5},children:(0,s.jsxs)(Da,{onClick:()=>g(h.path),selected:y,sx:{borderRadius:2,mx:1,"&.Mui-selected":{backgroundColor:u.palette.mode==="light"?"rgba(30, 136, 229, 0.1)":"rgba(30, 136, 229, 0.15)","&:hover":{backgroundColor:u.palette.mode==="light"?"rgba(30, 136, 229, 0.15)":"rgba(30, 136, 229, 0.2)"}}},children:[(0,s.jsx)(H,{sx:{minWidth:40,color:y?"primary.main":"text.secondary"},children:h.icon}),(0,s.jsx)(G,{primary:h.label,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:y?600:400}})]})},h.id)})})]});return(0,s.jsx)(Ht,{variant:r?"temporary":"persistent",open:a,onClose:e,ModalProps:{keepMounted:!0},sx:{display:!r&&!a?"none":"block","& .MuiDrawer-paper":{width:t,boxSizing:"border-box",borderRight:`1px solid ${u.palette.divider}`,backgroundColor:u.palette.mode==="light"?"#ffffff":u.palette.background.paper}},children:d})}var Gs={dashboard:"Dashboard","ship-visits":"Ship Visits",schedules:"Schedules",tasks:"Tasks",assets:"Assets",conflicts:"Conflicts",simulation:"Simulation","event-logs":"Event Logs",chatbot:"AI Assistant",settings:"Settings",profile:"Profile",new:"Create New",edit:"Edit"};function Ys(){const a=wa(),e=he(),t=a.pathname.split("/").filter(i=>i);if(t.length===0||t.length===1&&t[0]==="dashboard")return null;const r=[{label:"Home",path:"/dashboard"}];let n="";return t.forEach((i,u)=>{n+=`/${i}`;const g=u===t.length-1;r.push({label:Gs[i]||i.charAt(0).toUpperCase()+i.slice(1),path:g?void 0:n})}),(0,s.jsx)(J,{maxWidth:"xl",sx:{px:0,mb:2},children:(0,s.jsx)(p,{children:(0,s.jsx)(Qt,{separator:(0,s.jsx)(mr,{fontSize:"small"}),"aria-label":"breadcrumb",sx:{py:1,px:2,backgroundColor:e.palette.mode==="light"?"#ffffff":e.palette.background.paper,borderRadius:1,border:`1px solid ${e.palette.divider}`},children:r.map((i,u)=>{const g=u===r.length-1,m=u===0;return g?(0,s.jsx)(k,{color:"text.primary",fontWeight:600,fontSize:"0.875rem",sx:{display:"flex",alignItems:"center",gap:.5},children:i.label},u):(0,s.jsxs)(Kt,{component:Dt,to:i.path,underline:"hover",color:"inherit",fontSize:"0.875rem",sx:{display:"flex",alignItems:"center",gap:.5,"&:hover":{color:"primary.main"}},children:[m&&(0,s.jsx)(Xt,{sx:{fontSize:16}}),i.label]},u)})})})})}var ja=260,Ka=64;function Ks({children:a}){const e=he(),t=Jt(e.breakpoints.down("md")),[r,n]=(0,c.useState)(!t);(0,c.useEffect)(()=>{n(!t)},[t]);const i=()=>{n(!r)};return(0,s.jsxs)(p,{sx:{display:"flex",minHeight:"100vh"},children:[(0,s.jsx)(p,{component:"a",href:"#main-content",sx:{position:"absolute",top:-40,left:0,zIndex:9999,backgroundColor:"primary.main",color:"white",padding:1.5,textDecoration:"none",fontWeight:600,"&:focus":{top:0}},children:"Skip to main content"}),(0,s.jsx)(Bs,{onSidebarToggle:i,drawerWidth:ja,sidebarOpen:r,isMobile:t}),(0,s.jsx)(Hs,{open:r,onClose:()=>n(!1),drawerWidth:ja,isMobile:t}),(0,s.jsxs)(p,{component:"main",id:"main-content",role:"main","aria-label":"Main content",sx:{flexGrow:1,px:{xs:2,md:3,xl:5},py:3,mt:`${Ka}px`,minHeight:`calc(100vh - ${Ka}px)`,backgroundColor:e.palette.mode==="light"?"#f5f5f5":"#121212",ml:r&&!t?`${ja}px`:{md:0},transition:e.transitions.create(["margin"],{easing:r?e.transitions.easing.easeOut:e.transitions.easing.sharp,duration:r?e.transitions.duration.enteringScreen:e.transitions.duration.leavingScreen})},children:[(0,s.jsx)(Ys,{}),(0,s.jsx)(p,{sx:{mt:2},children:a||(0,s.jsx)(Ja,{})})]})]})}function qs({allowedRoles:a}){const e=wa(),t=q(Tr),r=q(Ir),n=q(Ar);return r?(0,s.jsx)(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,s.jsx)(et,{size:60})}):t?a&&a.length>0&&(!n||!a.includes(n))?(0,s.jsx)(ce,{to:"/unauthorized",replace:!0}):(0,s.jsx)(Ja,{}):(0,s.jsx)(ce,{to:"/login",state:{from:e},replace:!0})}var Qs=(0,c.lazy)(()=>C(()=>import("./Login-CwiuDQRy.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Js=(0,c.lazy)(()=>C(()=>import("./Unauthorized-CRaWquqm.js"),__vite__mapDeps([7,1,2,3,4,5]))),Xs=(0,c.lazy)(()=>C(()=>import("./Dashboard-DJcHbpBh.js"),__vite__mapDeps([8,1,2,3,4,5,6,9]))),Zs=(0,c.lazy)(()=>C(()=>import("./ShipVisitList-DszVssAF.js"),__vite__mapDeps([10,1,2,3,4,5,6,11,9]))),en=(0,c.lazy)(()=>C(()=>import("./ShipVisitDetail-Dz-uIH0M.js"),__vite__mapDeps([12,1,2,3,4,5,6,11]))),qa=(0,c.lazy)(()=>C(()=>import("./ShipVisitForm-BULIyhOS.js"),__vite__mapDeps([13,1,2,3,4,5,6]))),an=(0,c.lazy)(()=>C(()=>import("./SchedulesPage-gg5aN4zM.js"),__vite__mapDeps([14,2,3,5,4,6]))),tn=(0,c.lazy)(()=>C(()=>import("./TasksPage-e5eTSxrh.js"),__vite__mapDeps([15,1,2,3,4,5,6]))),rn=(0,c.lazy)(()=>C(()=>import("./AssetsPage-0xontDt3.js"),__vite__mapDeps([16,1,2,3,4,5,6]))),sn=(0,c.lazy)(()=>C(()=>import("./ConflictsPage-BZkepMOf.js"),__vite__mapDeps([17,2,3,5,4,6,18]))),nn=(0,c.lazy)(()=>C(()=>import("./EventLogsPage-D7kClX-T.js"),__vite__mapDeps([19,2,3,5,4,6,18]))),on=(0,c.lazy)(()=>C(()=>import("./SimulationPage-D7_oWQED.js"),__vite__mapDeps([20,2,3,5,4,6]))),ln=(0,c.lazy)(()=>C(()=>import("./PortMapPage-DcccD3hL.js"),__vite__mapDeps([21,2,3,5,4]))),dn=(0,c.lazy)(()=>C(()=>import("./ChatbotPage-DGfHuDXo.js"),__vite__mapDeps([22,2,3,5,4,6]))),cn=(0,c.lazy)(()=>C(()=>import("./Settings-C5LmljCr.js"),__vite__mapDeps([23,2,3,5,4]))),un=(0,c.lazy)(()=>C(()=>import("./Profile-CqhgkYPz.js"),__vite__mapDeps([24,2,3,5,4,6])));function pn(){return(0,s.jsx)(_s,{children:(0,s.jsxs)(Es,{children:[(0,s.jsx)(Za,{}),(0,s.jsx)(Ds,{}),(0,s.jsx)(Rs,{children:(0,s.jsx)(Ft,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,s.jsxs)(Ot,{children:[(0,s.jsx)(S,{path:"/login",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(Qs,{})})}),(0,s.jsx)(S,{path:"/unauthorized",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(Js,{})})}),(0,s.jsx)(S,{element:(0,s.jsx)(qs,{}),children:(0,s.jsxs)(S,{path:"/",element:(0,s.jsx)(Ks,{}),children:[(0,s.jsx)(S,{index:!0,element:(0,s.jsx)(ce,{to:"/dashboard",replace:!0})}),(0,s.jsx)(S,{path:"dashboard",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(Os,{}),children:(0,s.jsx)(Xs,{})})}),(0,s.jsx)(S,{path:"ship-visits",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(Zs,{})})}),(0,s.jsx)(S,{path:"ship-visits/new",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(Ga,{}),children:(0,s.jsx)(qa,{})})}),(0,s.jsx)(S,{path:"ship-visits/:id",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(Ps,{}),children:(0,s.jsx)(en,{})})}),(0,s.jsx)(S,{path:"ship-visits/:id/edit",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(Ga,{}),children:(0,s.jsx)(qa,{})})}),(0,s.jsx)(S,{path:"schedules",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(an,{})})}),(0,s.jsx)(S,{path:"tasks",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(tn,{})})}),(0,s.jsx)(S,{path:"assets",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(rn,{})})}),(0,s.jsx)(S,{path:"conflicts",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(sn,{})})}),(0,s.jsx)(S,{path:"simulation",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(on,{})})}),(0,s.jsx)(S,{path:"port-map",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(ln,{})})}),(0,s.jsx)(S,{path:"event-logs",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)($,{}),children:(0,s.jsx)(nn,{})})}),(0,s.jsx)(S,{path:"chatbot",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(dn,{})})}),(0,s.jsx)(S,{path:"settings",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(cn,{})})}),(0,s.jsx)(S,{path:"profile",element:(0,s.jsx)(c.Suspense,{fallback:(0,s.jsx)(M,{}),children:(0,s.jsx)(un,{})})})]})}),(0,s.jsx)(S,{path:"*",element:(0,s.jsx)(ce,{to:"/dashboard",replace:!0})})]})})})]})})}var hn=pn;(0,yr.createRoot)(document.getElementById("root")).render((0,s.jsx)(c.StrictMode,{children:(0,s.jsx)(Lt,{store:ps,children:(0,s.jsx)(Pt,{children:(0,s.jsx)(hn,{})})})}));export{Rn as $,ra as A,Hr as B,Ri as C,la as D,ua as E,Yr as F,Ae as G,Mn as H,Gr as I,Fn as J,Ie as K,Ve as L,We as M,Be as N,sa as O,Me as P,$n as Q,Re as R,Ni as S,U as T,Ee as U,Pn as V,_e as W,Bn as X,Un as Y,zn as Z,Ui as _,Ir as _t,qi as a,de as at,Bi as b,Ar as bt,Zi as c,_n as ct,va as d,wn as dt,Nn as et,Oi as f,En as ft,zi as g,jn as gt,xa as h,xe as ht,Hi as i,ne as it,Ke as j,Ze as k,Ca as l,Ln as lt,Mi as m,Cn as mt,q as n,On as nt,Xi as o,ie as ot,ns as p,bn as pt,Vn as q,As as r,le as rt,eo as s,oe as st,Vs as t,be as tt,Fi as u,An as ut,$i as v,Tr as vt,ya as w,Vi as x,x as xt,Wi as y,ut as yt,Gn as z};
